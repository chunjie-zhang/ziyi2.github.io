<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>http协议分析 - ziyi2</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta name="description" content="Web是建立在HTTP(HyperText Transfer Protocol，超文本传输协议)上通信的。本文是一篇HTTP协议学习笔记，补充一下HTTP协议的基础，这对于理解Ajax以及前后端交互过程绝对是非常有帮助的，本文章主要讲述Web基础和简单的HTTP协议……">
<meta name="keywords" content="http,https,websocket,cookie,缓存,代理,协议,加密">
<meta property="og:type" content="article">
<meta property="og:title" content="http协议分析">
<meta property="og:url" content="http://www.ziyi2.cn/2018/04/10/http协议分析/index.html">
<meta property="og:site_name" content="ziyi2">
<meta property="og:description" content="Web是建立在HTTP(HyperText Transfer Protocol，超文本传输协议)上通信的。本文是一篇HTTP协议学习笔记，补充一下HTTP协议的基础，这对于理解Ajax以及前后端交互过程绝对是非常有帮助的，本文章主要讲述Web基础和简单的HTTP协议……">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/1tcpip.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/2send.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/3dns.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/4hand.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/5arp.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/6dns2.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/7trans.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/8bs.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/9cookie1.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/10cookie2.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/11content.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/12daili.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/13wangguan.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/14suidao.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/15huancun.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/16cache.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/17age.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/18ca.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/19ca2.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/20chat.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/21basic.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/22digest.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/23session.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/24pj.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/25ajax.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/26comet.png">
<meta property="og:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/27websocket.png">
<meta property="og:updated_time" content="2019-01-20T14:31:33.063Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="http协议分析">
<meta name="twitter:description" content="Web是建立在HTTP(HyperText Transfer Protocol，超文本传输协议)上通信的。本文是一篇HTTP协议学习笔记，补充一下HTTP协议的基础，这对于理解Ajax以及前后端交互过程绝对是非常有帮助的，本文章主要讲述Web基础和简单的HTTP协议……">
<meta name="twitter:image" content="https://raw.githubusercontent.com/ziyi2/blog-images/master/1tcpip.png">





<link rel="icon" href="/images/favicon.jpg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.jpg" alt="http协议分析" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">主页</a>
                
                <a class="navbar-item" href="/archives">归档</a>
                
                <a class="navbar-item" href="/categories">分类</a>
                
                <a class="navbar-item" href="/tags">标签</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-image">
        <span class="image is-7by1">
            <img class="thumbnail" src="https://raw.githubusercontent.com/ziyi2/blog-images/master/404.jpeg" alt="http协议分析">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-04-10T13:24:23.000Z">2018-04-10</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/前端/">前端</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 小时 读完 (大约 23017 个字)
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                http协议分析
            
        </h1>
        <div class="content">
            <p>Web是建立在HTTP(HyperText Transfer Protocol，超文本传输协议)上通信的。本文是一篇HTTP协议学习笔记，补充一下HTTP协议的基础，这对于理解Ajax以及前后端交互过程绝对是非常有帮助的，本文章主要讲述Web基础和简单的HTTP协议……</p>
<a id="more"></a>
<h2 id="Web基础"><a href="#Web基础" class="headerlink" title="Web基础"></a>Web基础</h2><h3 id="使用HTTP协议访问Web"><a href="#使用HTTP协议访问Web" class="headerlink" title="使用HTTP协议访问Web"></a>使用HTTP协议访问Web</h3><p>Web页面是如何呈现的？</p>
<ul>
<li>客户端通过指定的URL地址获取服务器端资源</li>
<li>服务器端使用HTTP协议传输文件资源</li>
</ul>
<h3 id="HTTP诞生"><a href="#HTTP诞生" class="headerlink" title="HTTP诞生"></a>HTTP诞生</h3><h4 id="Web历史"><a href="#Web历史" class="headerlink" title="Web历史"></a>Web历史</h4><ul>
<li>1989.03 HTTP诞生</li>
<li>1990.11 CERN(欧洲核子研究组织)研发世界上第一台Web服务器和Web浏览器</li>
<li>1993.01 现代浏览器的祖先NCSA研发的Mosaic问世</li>
<li>1994.12 网景通信公司发布了Netscape Navigator 1.0</li>
<li>1995.xx 微软公司发布了IE 1.0和2.0</li>
<li>1995.xx Apache 0.2发布</li>
<li>1995.xx HTML2.0发布</li>
<li>2004.xx Mozilla基金会发布了Firefox浏览器</li>
</ul>
<h4 id="HTTP历史"><a href="#HTTP历史" class="headerlink" title="HTTP历史"></a>HTTP历史</h4><ul>
<li>HTTP/0.9 HTTP/1.0之前的版本</li>
<li>HTTP/1.0 该协议标准仍被广泛使用至服务器</li>
<li>HTTP/1.1 目前主流的协议版本</li>
</ul>
<h3 id="网络基础TCP-IP"><a href="#网络基础TCP-IP" class="headerlink" title="网络基础TCP/IP"></a>网络基础TCP/IP</h3><p>HTTP是TCP/IP协议族中的一个子集。</p>
<h4 id="TCP-IP协议族"><a href="#TCP-IP协议族" class="headerlink" title="TCP/IP协议族"></a>TCP/IP协议族</h4><p>TCP/IP是互联网相关的各类协议族的总称，包括</p>
<ul>
<li>HTTP — HyperText Transfer Protocol，超文本传输协议</li>
<li>FTP — File Transfer Protocil，文件传输协议</li>
<li>DNS — Domain Name System，域名系统</li>
<li>TCP — Transmission Control Protocol，传输控制协议</li>
<li>UDP — User Data Protocol，用户数据报协议</li>
<li>IP — Internet Protocol，网际协议</li>
<li>PPPoE</li>
<li>ICMP</li>
<li>FDDI</li>
<li>IEEE 802.3</li>
</ul>
<h4 id="TCP-IP分层管理"><a href="#TCP-IP分层管理" class="headerlink" title="TCP/IP分层管理"></a>TCP/IP分层管理</h4><p>分层的好处是各层之间互不干涉影响，如果协议中的某个地方需要修改，只需要修改某一层即可，而不需要改变整体。只要把各层之间的接口部分规划好，每个层次内部的设计就能够自由改动了。分层如下：</p>
<ul>
<li>应用层</li>
<li>传输层</li>
<li>网络层（网络互连层）</li>
<li>链路层（网络接口层、数据链路层）</li>
</ul>
<h5 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h5><p>决定了向用户提供服务时通信的活动。包括FTP协议、DNS协议和HTTP协议等。</p>
<h5 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h5><p>上层是应用层，下层是网络层，提供处于网络连接中的两台计算机之间的数据传输。包括TCP协议和UDP协议。</p>
<h5 id="网络层（网络互连层）"><a href="#网络层（网络互连层）" class="headerlink" title="网络层（网络互连层）"></a>网络层（网络互连层）</h5><p>下层是链路层，用来处理在网络上流动的数据包。数据包是网络传输的最小数据单位。该层规定了传输路线（有路径算法），并把数据包送给对方。网络层的作用其实就是在众多的网络设备之间传输时选择一条传输路线。</p>
<h5 id="链路层（网络接口层、数据链路层）"><a href="#链路层（网络接口层、数据链路层）" class="headerlink" title="链路层（网络接口层、数据链路层）"></a>链路层（网络接口层、数据链路层）</h5><p>用来处理连接网络的硬件部分，包括控制操作系统、硬件的设备驱动、网络适配器（网卡）、光钎、还包括连接器等传输媒介。总而言之，硬件上的范畴都在链路层范围之内。</p>
<h4 id="TCP-IP通信传输流"><a href="#TCP-IP通信传输流" class="headerlink" title="TCP/IP通信传输流"></a>TCP/IP通信传输流</h4><h5 id="传输流"><a href="#传输流" class="headerlink" title="传输流"></a>传输流</h5><p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/1tcpip.png" alt="Alt text"></p>
<h5 id="发送端封装"><a href="#发送端封装" class="headerlink" title="发送端封装"></a>发送端封装</h5><p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/2send.png" alt="Alt text"></p>
<blockquote>
<p>提示：发送端在层与层之间传输数据时，每经过一层时必定会被打上一个该层所属的首部信息。</p>
</blockquote>
<h5 id="接收端解封"><a href="#接收端解封" class="headerlink" title="接收端解封"></a>接收端解封</h5><p>接收端的解封流程正好是发送端的逆流程。</p>
<blockquote>
<p>提示：接收端在层与层之间传输数据时，每经过一层时必定会把对应的首部消去。</p>
</blockquote>
<h2 id="DNS、TCP、IP"><a href="#DNS、TCP、IP" class="headerlink" title="DNS、TCP、IP"></a>DNS、TCP、IP</h2><h3 id="负责域名解析的DNS服务"><a href="#负责域名解析的DNS服务" class="headerlink" title="负责域名解析的DNS服务"></a>负责域名解析的DNS服务</h3><p>DNS服务位于应用层。提供域名到IP地址之间的解析服务。计算机不仅可以赋予IP地址，也可以被赋予主机名和域名，例如域名<a href="www.baidu.com">www.baidu.com</a>。IP地址不好记，谁能记住一大串数字，域名就比较好记，所以访问对方计算机时，可以通过域名访问而不是IP地址访问。DNS可以通过域名查找IP地址。<br><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/3dns.png" alt="Alt text"></p>
<h3 id="确保可靠的TCP协议"><a href="#确保可靠的TCP协议" class="headerlink" title="确保可靠的TCP协议"></a>确保可靠的TCP协议</h3><p>TCP协议位于传输层，提供可靠的字节流服务。字节流服务是将大块的数据分割以报文段为单位的数据包进行管理，可靠的传输服务是指准确可靠的把数据传输给对方。为了实现可靠传输，TCP协议采用三次握手传输策略。<br><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/4hand.png" alt="Alt text"></p>
<h3 id="负责传输的IP协议"><a href="#负责传输的IP协议" class="headerlink" title="负责传输的IP协议"></a>负责传输的IP协议</h3><p>IP协议位于网络层，作用是把各种数据包传送给对方。要传送给对方，需要两个条件，IP地址和MAC地址。</p>
<p>类型    说明    区别<br>IP    指明了节点被分配到的地址    地址可变<br>MAC    网络适配器（网卡）所属的固定地址    地址不可变</p>
<p>使用ARP协议凭借MAC地址进行通信，ARP是一种用以解析地址的协议，根据通信方的IP地址就可以反查出对应的MAC地址。<br><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/5arp.png" alt="Alt text"></p>
<h3 id="各种协议与HTTP协议的关系"><a href="#各种协议与HTTP协议的关系" class="headerlink" title="各种协议与HTTP协议的关系"></a>各种协议与HTTP协议的关系</h3><p>第一步<br><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/6dns2.png" alt="Alt text"></p>
<p>第二步</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/7trans.png" alt="Alt text"></p>
<h3 id="URI和URL"><a href="#URI和URL" class="headerlink" title="URI和URL"></a>URI和URL</h3><p>省略。</p>
<h2 id="简单的HTTP协议"><a href="#简单的HTTP协议" class="headerlink" title="简单的HTTP协议"></a>简单的HTTP协议</h2><p>本章节讲解HTTP/1.1版本的协议结构。</p>
<h3 id="HTTP通信"><a href="#HTTP通信" class="headerlink" title="HTTP通信"></a>HTTP通信</h3><p>HTTP协议和TCP/IP协议族中的其他协议都是用于客户端和服务器之间的通信。</p>
<ul>
<li>客户端：请求访问文本或图像等资源的一端</li>
<li>服务器端：提供资源响应的一端</li>
</ul>
<p>在两台计算机之间使用HTTP协议通信时，在一条通信线路上必定有一端是客户端，另一端是服务器端。</p>
<h3 id="HTTP请求和响应"><a href="#HTTP请求和响应" class="headerlink" title="HTTP请求和响应"></a>HTTP请求和响应</h3><p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/8bs.png" alt="Alt text"></p>
<p>HTTP协议规定，请求从客户端发出，最后服务器端相应该请求并返回。注意必须先从客户端开始建立通信，服务器端在没有接收到请求之间不会发送响应。</p>
<h4 id="请求报文"><a href="#请求报文" class="headerlink" title="请求报文"></a>请求报文</h4><p>客户端发送一个请求，请求报文构成示例如下：</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//请求方法，URL</span></span><br><span class="line">Request URL:http:<span class="hljs-comment">//localhost:7101/signup</span></span><br><span class="line">Request Method:POST</span><br><span class="line"><span class="hljs-comment">//请求首部字段</span></span><br><span class="line">Connection:keep-alive</span><br><span class="line">Content-Type:application/x-www-form-urlencoded</span><br><span class="line">Content-Length:<span class="hljs-number">29</span></span><br><span class="line">Host:localhost:<span class="hljs-number">7101</span></span><br><span class="line"><span class="hljs-comment">//内容实体（请求主体）</span></span><br><span class="line">name=admin3&amp;password=<span class="hljs-number">22222222</span></span><br></pre></td></tr></table></figure>
<p>请求报文一般由以下构成</p>
<ul>
<li>请求方法，URI（粗略的可以说是URL）</li>
<li>可选的请求头首部字段</li>
<li>内容实体（请求主体）</li>
</ul>
<h4 id="响应报文"><a href="#响应报文" class="headerlink" title="响应报文"></a>响应报文</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//响应状态码</span></span><br><span class="line">Status Code:<span class="hljs-number">200</span> OK</span><br><span class="line"><span class="hljs-comment">//响应首部字段</span></span><br><span class="line"><span class="hljs-built_in">Date</span>:Mon, <span class="hljs-number">20</span> Jun <span class="hljs-number">2016</span> <span class="hljs-number">10</span>:<span class="hljs-number">38</span>:<span class="hljs-number">42</span> GMT</span><br><span class="line">Content-Length:<span class="hljs-number">9</span></span><br><span class="line">Content-Type:application/json; charset=utf<span class="hljs-number">-8</span></span><br><span class="line"><span class="hljs-comment">//响应主体</span></span><br><span class="line">&#123;<span class="hljs-string">"msg"</span>:<span class="hljs-number">2</span>&#125;</span><br></pre></td></tr></table></figure>
<p>响应报文一般由以下构成</p>
<ul>
<li>响应状态码</li>
<li>用于解释状态码的原因语句（例如OK，Not Modified等）</li>
<li>可选的响应首部字段</li>
<li>响应主体</li>
</ul>
<h4 id="Ajax示例"><a href="#Ajax示例" class="headerlink" title="Ajax示例"></a>Ajax示例</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">postFormData</span>(<span class="hljs-params">url,data,callback</span>)</span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">window</span>.XMLHttpRequest)&#123;        <span class="hljs-comment">//创建一个XHR对象</span></span><br><span class="line">        req = <span class="hljs-keyword">new</span> XMLHttpRequest();</span><br><span class="line">    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-built_in">window</span>.ActiveXObject)&#123; <span class="hljs-comment">//兼容IE</span></span><br><span class="line">        req = <span class="hljs-keyword">new</span> ActiveXObject(<span class="hljs-string">'Microsoft.XMLHTTP'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-comment">/*1.请求方法和URL*/</span></span><br><span class="line">    request.open(<span class="hljs-string">'POST'</span>,url);  </span><br><span class="line">    request.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(request.readyState === <span class="hljs-number">4</span>)&#123;</span><br><span class="line">            <span class="hljs-comment">/*4.响应状态码*/</span></span><br><span class="line">            <span class="hljs-keyword">if</span>(request.state === <span class="hljs-number">200</span>)&#123;  </span><br><span class="line">                <span class="hljs-comment">/*5.可选的响应首部字段*/</span></span><br><span class="line">                <span class="hljs-keyword">var</span> type = req.getResponseHeader(<span class="hljs-string">"Content-Type"</span>);</span><br><span class="line">                <span class="hljs-keyword">var</span> size = req.getResponseHeader(<span class="hljs-string">"Content-Length"</span>);</span><br><span class="line">                <span class="hljs-comment">/*6.响应主体*/</span></span><br><span class="line">                <span class="hljs-keyword">if</span>(type.indexOf(<span class="hljs-string">'xml'</span>) !== <span class="hljs-number">-1</span> &amp;&amp; request.responseXML)&#123;</span><br><span class="line">                    callback(request.responseXML);              <span class="hljs-comment">//XML Document对象响应</span></span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(type === <span class="hljs-string">'application/json'</span>)&#123;</span><br><span class="line">                    callback(<span class="hljs-built_in">JSON</span>.parse(request.responseText)); <span class="hljs-comment">//JSON响应</span></span><br><span class="line">                &#125; <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">                    callback(request.responseText);             <span class="hljs-comment">//字符串响应</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="hljs-comment">/*2.可选的请求头首部字段*/</span></span><br><span class="line">    request.setRequestHeader(<span class="hljs-string">'Content-Type'</span>,<span class="hljs-string">'application/x-www-form-urlencoded'</span>); <span class="hljs-comment">//设置Content-Type</span></span><br><span class="line">    <span class="hljs-comment">/*3.请求主体*/</span></span><br><span class="line">    request.send(encodeFormData(data)); <span class="hljs-comment">//发送表单编码数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="HTTP是不保存状态"><a href="#HTTP是不保存状态" class="headerlink" title="HTTP是不保存状态"></a>HTTP是不保存状态</h3><p>HTTP是一种无状态协议，HTTP协议自身不对请求和响应之间的通信状态进行保存。每当新的请求发送时，就会对应新的响应产生，协议本身并不会保留之前一切的请求和响应报文信息。当然，无状态导致了业务处理能力减弱，比如登录网站时，跳转到该站的其他页面，也需要能够继续保持登录状态，此时就需要保存用户的状态，所以为了实现这个状态功能，引入了cookie技术。有了cookie再用HTTP协议通信，就可以管理状态了。</p>
<h3 id="请求URI定位资源"><a href="#请求URI定位资源" class="headerlink" title="请求URI定位资源"></a>请求URI定位资源</h3><p>HTTP协议使用URI定位互联网上的资源，当客户端请求访问资源而发送请求时，URI需要将作为请求报文中的请求URI包含在内。</p>
<h3 id="HTTP请求方法"><a href="#HTTP请求方法" class="headerlink" title="HTTP请求方法"></a>HTTP请求方法</h3><table>
<thead>
<tr>
<th style="text-align:left">请求类型</th>
<th style="text-align:left">说明</th>
<th style="text-align:left">作用</th>
<th style="text-align:left">支持的HTTP协议的版本</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">GET</td>
<td style="text-align:left">请求访问已被URI识别的资源，指定的资源经服务器解析后返回响应内容</td>
<td style="text-align:left">获取资源</td>
<td style="text-align:left">1.0、1.1</td>
</tr>
<tr>
<td style="text-align:left">POST</td>
<td style="text-align:left">尽管GET也可以传输实体主体，但是一般还是用POST传输，POST的主要目的并不是获取响应内容</td>
<td style="text-align:left">传输实体主体</td>
<td style="text-align:left">1.0、1.1</td>
</tr>
<tr>
<td style="text-align:left">PUT</td>
<td style="text-align:left">就像FTP协议的文件上传一样，要求在请求报文的主体中包含文件内容，没有验证机制，一般Web网站不使用</td>
<td style="text-align:left">传输文件</td>
<td style="text-align:left">1.0、1.1</td>
</tr>
<tr>
<td style="text-align:left">HEAD</td>
<td style="text-align:left">HEAD方法和GET方法类似，区别是不获取报文响应主体，用于确认URI的有效性及资源更新的日期等    获取报文首部</td>
<td style="text-align:left">获取报文首部</td>
<td style="text-align:left">1.0、1.1</td>
</tr>
<tr>
<td style="text-align:left">DELETE</td>
<td style="text-align:left">与PUT方法相反，也没有验证机制</td>
<td style="text-align:left">删除文件</td>
<td style="text-align:left">1.0、1.1</td>
</tr>
<tr>
<td style="text-align:left">OPTIONS</td>
<td style="text-align:left">查询针对特定请求URI指定的资源的支持的方法</td>
<td style="text-align:left">询问支持的方法</td>
<td style="text-align:left">1.1</td>
</tr>
<tr>
<td style="text-align:left">TRACE</td>
<td style="text-align:left">通常不会用，容易引发XST（跨站追踪）攻击</td>
<td style="text-align:left">跟踪路径</td>
<td style="text-align:left">1.1</td>
</tr>
<tr>
<td style="text-align:left">CONNECT</td>
<td style="text-align:left">实现用隧道协议进行TCP通信    要求用隧道协议连接代理</td>
<td style="text-align:left"></td>
<td style="text-align:left">1.1</td>
</tr>
</tbody>
</table>
<blockquote>
<p>提示：HTTP/1.0还支持LINK（建立和资源之间的联系）、UNLINK（断开连接关系）方法，但是在HTTP/1.1中被废弃。此外，方法名区分大小写，注意要用大写字母。</p>
</blockquote>
<h3 id="持久连接节省通信量"><a href="#持久连接节省通信量" class="headerlink" title="持久连接节省通信量"></a>持久连接节省通信量</h3><p>HTTP初始版本中，每建立一次连接，HTTP通信就要断开一次TCP连接。随着HTTP请求的主体内容越来越大，显然这样的性能是不够的，比如获取一个网页信息时，获取HTML文档建立和断开一次TCP连接，获取图片又是一次，获取另外一张图片又是一次，增加了通信量的开销。</p>
<h4 id="持久连接"><a href="#持久连接" class="headerlink" title="持久连接"></a>持久连接</h4><p>针对上述问题，HTTP/1.1和部分HTTP/1.0想出了持久连接（HTTP keep-alive）的方法。只要任意一端没有明确提出断开连接，则保持TCP连接状态。持久连接旨在建立1次TCP连接后进行多次请求和响应的交互。在HTTP/1.1中所有的连接默认都是持久连接，但在HTTP/1.0内并没有标准化。</p>
<h4 id="管线化"><a href="#管线化" class="headerlink" title="管线化"></a>管线化</h4><p>持久连接造就了管线化方式发送。以前发送请求是串行的，发送一个请求必须得到响应才能发送下一个请求，管线化技术出现后，不用等待响应亦可直接发送下一个请求。这样可以做到同时并行发送多个请求。</p>
<h3 id="使用Cookie的状态管理"><a href="#使用Cookie的状态管理" class="headerlink" title="使用Cookie的状态管理"></a>使用Cookie的状态管理</h3><p>HTTP是无状态协议，于是引入Cookie技术。Cookie技术通过在请求和响应报文中写入Cookie信息来控制客户端状态。</p>
<h4 id="没有Cookie信息状态下的客户端请求"><a href="#没有Cookie信息状态下的客户端请求" class="headerlink" title="没有Cookie信息状态下的客户端请求"></a>没有Cookie信息状态下的客户端请求</h4><p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/9cookie1.png" alt="Alt text"></p>
<h4 id="第二次以后（存有Cookie信息状态）的请求"><a href="#第二次以后（存有Cookie信息状态）的请求" class="headerlink" title="第二次以后（存有Cookie信息状态）的请求"></a>第二次以后（存有Cookie信息状态）的请求</h4><p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/10cookie2.png" alt="Alt text"></p>
<h4 id="工作过程"><a href="#工作过程" class="headerlink" title="工作过程"></a>工作过程</h4><p>第一次客户端在没有Cookie信息状体下请求连接，请求报文类似如下</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//请求方法，URL</span></span><br><span class="line">Request URL:http:<span class="hljs-comment">//localhost:7101/signup</span></span><br><span class="line">Request Method:POST</span><br><span class="line"><span class="hljs-comment">//请求首部字段</span></span><br><span class="line">Connection:keep-alive</span><br><span class="line">Content-Type:application/x-www-form-urlencoded</span><br><span class="line">Content-Length:<span class="hljs-number">29</span></span><br><span class="line">Host:localhost:<span class="hljs-number">7101</span></span><br><span class="line"><span class="hljs-comment">//首部字段中没有Cookie</span></span><br><span class="line"><span class="hljs-comment">//内容实体（请求主体）</span></span><br><span class="line">name=admin3&amp;password=<span class="hljs-number">22222222</span></span><br></pre></td></tr></table></figure>
<p>第一次服务器端接收到HTTP请求报文时，产生Set-Cookie响应首部字段，通知客户端保存Cookie</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//响应状态码</span></span><br><span class="line">Status Code:<span class="hljs-number">200</span> OK</span><br><span class="line"><span class="hljs-comment">//响应首部字段</span></span><br><span class="line"><span class="hljs-built_in">Date</span>:Mon, <span class="hljs-number">20</span> Jun <span class="hljs-number">2016</span> <span class="hljs-number">10</span>:<span class="hljs-number">38</span>:<span class="hljs-number">42</span> GMT</span><br><span class="line">Content-Length:<span class="hljs-number">9</span></span><br><span class="line">Content-Type:application/json; charset=utf<span class="hljs-number">-8</span></span><br><span class="line"><span class="hljs-comment">//Set-Cookie响应首部字段</span></span><br><span class="line"><span class="hljs-built_in">Set</span>-Cookie:BDSVRTM=<span class="hljs-number">132</span>; path=<span class="hljs-regexp">/</span></span><br><span class="line"><span class="hljs-regexp">Set-Cookie:H_PS_PSSID=18286_1466_20317_18280_20368_20389_18134_17001_15371_11521; path=/</span>; domain=.baidu.com</span><br><span class="line"><span class="hljs-built_in">Set</span>-Cookie:__bsi=<span class="hljs-number">14590321692489225299</span>_00_4_R_N_135_0303_C02F_N_I_I_0; expires=Mon, <span class="hljs-number">20</span>-Jun<span class="hljs-number">-16</span> <span class="hljs-number">13</span>:<span class="hljs-number">49</span>:<span class="hljs-number">06</span> GMT; domain=www.baidu.com; path=<span class="hljs-regexp">/</span></span><br><span class="line"><span class="hljs-regexp">Set-Cookie:BD_HOME=1; path=/</span></span><br><span class="line"><span class="hljs-comment">//响应主体</span></span><br><span class="line">&#123;<span class="hljs-string">"msg"</span>:<span class="hljs-number">2</span>&#125;</span><br></pre></td></tr></table></figure>
<p>客户端形成一个Cookie文本文件存储在客户端计算机的硬件或内存中<br>客户端再次发送连接时，在HTTP请求报文的首部字段中添加Cookie信息并自动发送</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//请求方法，URL</span></span><br><span class="line">Request URL:http:<span class="hljs-comment">//localhost:7101/signup</span></span><br><span class="line">Request Method:POST</span><br><span class="line"><span class="hljs-comment">//请求首部字段</span></span><br><span class="line">Connection:keep-alive</span><br><span class="line">Content-Type:application/x-www-form-urlencoded</span><br><span class="line">Content-Length:<span class="hljs-number">29</span></span><br><span class="line">Host:localhost:<span class="hljs-number">7101</span></span><br><span class="line"><span class="hljs-comment">//首部字段有Cookie</span></span><br><span class="line">Cookie:BAIDUID=<span class="hljs-number">02</span>F58F2A65AE213FB82C3C963C00E28D:FG=<span class="hljs-number">1</span>; BIDUPSID=<span class="hljs-number">02</span>F58F2A65AE213FB82C3C963C00E28D; PSTM=<span class="hljs-number">1464940250</span>; BDUSS=YwLS10dlN6U3hnaWEwbnVPU3VqTXgxVDV3TVlJWXhZQVY0amFRc0NPMkZ-SGxYQVFBQUFBJCQAAAAAAAAAAAEAAACM4OyLX9fT3sgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIVvUleFb1JXU1; pgv_pvi=<span class="hljs-number">2793529344</span>; BDRCVFR[feWj1Vr5u3D]=I67x6TjHwwYf0; H_PS_645EC=bf0dy07frZ1UKtJW014QafgXKI2iO55SiuDpRwJWBb4nwVC2cp%<span class="hljs-number">2</span>Fs31gktrj%<span class="hljs-number">2</span>BAKcUUoi2; BD_CK_SAM=<span class="hljs-number">1</span>; BD_HOME=<span class="hljs-number">1</span>; H_PS_PSSID=<span class="hljs-number">18286</span>_1466_20317_18280_20368_20389_18134_17001_15371_11521; BD_UPN=<span class="hljs-number">123253</span></span><br><span class="line"><span class="hljs-comment">//内容实体（请求主体）</span></span><br><span class="line">name=admin3&amp;password=<span class="hljs-number">22222222</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>提问： Cookie和Session到底有什么区别呢？</p>
</blockquote>
<h2 id="HTTP报文内的HTTP信息"><a href="#HTTP报文内的HTTP信息" class="headerlink" title="HTTP报文内的HTTP信息"></a>HTTP报文内的HTTP信息</h2><p>本章节讲解请求和响应中的报文信息。</p>
<h3 id="HTTP报文"><a href="#HTTP报文" class="headerlink" title="HTTP报文"></a>HTTP报文</h3><p>用户HTTP协议交互的信息被称为HTTP报文。客户端（请求端）的HTTP报文叫做请求报文，服务器端（响应端）的则叫做响应报文。HTTP报文大致可分为报文首部和报文主体两块。</p>
<ul>
<li>报文首部： 服务器端或客户端需处理的请求或响应的内容及属性</li>
<li>CR+LF （回车 + 换行）</li>
<li>报文主体：应被发送的数据</li>
</ul>
<h3 id="报文结构"><a href="#报文结构" class="headerlink" title="报文结构"></a>报文结构</h3><h4 id="请求报文-1"><a href="#请求报文-1" class="headerlink" title="请求报文"></a>请求报文</h4><ul>
<li>报文首部<ul>
<li>请求行</li>
<li>请求首部字段</li>
<li>通用首部字段</li>
<li>实体首部字段</li>
<li>其他</li>
</ul>
</li>
<li>空行（CR+LF）</li>
<li>报文主体</li>
</ul>
<h4 id="响应报文-1"><a href="#响应报文-1" class="headerlink" title="响应报文"></a>响应报文</h4><ul>
<li>报文首部<ul>
<li>状态行</li>
<li>响应首部字段</li>
<li>通用首部字段</li>
<li>实体首部字段</li>
<li>其他</li>
</ul>
</li>
<li>空行（CR+LF）</li>
<li>报文主体</li>
</ul>
<h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><table>
<thead>
<tr>
<th style="text-align:left">报文类型</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">请求行</td>
<td style="text-align:left">包含请求的方法，请求URI和HTTP版本</td>
</tr>
<tr>
<td style="text-align:left">状态行</td>
<td style="text-align:left">包含表明响应结果的状态码，原因短语和HTTP版本</td>
</tr>
<tr>
<td style="text-align:left">首部字段</td>
<td style="text-align:left">包含表示请求和响应的各种条件和属性的各类首部</td>
</tr>
<tr>
<td style="text-align:left">其他</td>
<td style="text-align:left">可能包含HTTP的RFC里未定义的首部 （Cookie）等</td>
</tr>
</tbody>
</table>
<blockquote>
<p>提示： 请求行示例：GET/HTTP/1.1。状态行示例：HTTP/1.1 200 OK。首部字段包含：通用首部、请求首部、响应首部和实体首部。</p>
</blockquote>
<h3 id="编码提升传输速率"><a href="#编码提升传输速率" class="headerlink" title="编码提升传输速率"></a>编码提升传输速率</h3><p>HTTP在传输数据时可以按照数据原貌进行传输，也可以在传输过程中通过编码提升传输速率。但是编码通过计算机来操作，需要消耗更多的CPU资源。</p>
<h4 id="报文主体和实体主体的区别"><a href="#报文主体和实体主体的区别" class="headerlink" title="报文主体和实体主体的区别"></a>报文主体和实体主体的区别</h4><ul>
<li>报文： 是HTTP通信中的基本单位，由8bit字节流组成，通过HTTP通信传输。</li>
<li>实体：作为请求和响应的有效载荷数据被传输，由实体首部和实体主体组成。</li>
</ul>
<p>通常报文的主体等于实体主体。只有编码操作时，实体主体的内容发生了变化，导致和报文主体产生了差异。</p>
<h4 id="压缩传输的内容编码"><a href="#压缩传输的内容编码" class="headerlink" title="压缩传输的内容编码"></a>压缩传输的内容编码</h4><p>HTTP协议中有一种类似ZIP压缩文件功能的内容编码功能，该功能主要应用于实体内容，并保持实体内容原样压缩。内容编码后的实体由客户端接收并负责解码。</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/11content.png" alt="Alt text"></p>
<p>例如请求响应头部</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Accept-Encoding:gzip, deflate, sdch</span><br></pre></td></tr></table></figure>
<p>常用内容编码方式：</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gzip（GNU zip）</span><br><span class="line">compress （UNIX系统的标准压缩）</span><br><span class="line">deflate （zlib）</span><br><span class="line">identity （不进行编码）</span><br></pre></td></tr></table></figure>
<h4 id="分割发送的分块传输编码"><a href="#分割发送的分块传输编码" class="headerlink" title="分割发送的分块传输编码"></a>分割发送的分块传输编码</h4><p>在传输大容量数据时，通过把数据分割成多块，能够让浏览器逐步显示页面。把实体主体分块的功能功称为分块传输编码。</p>
<h3 id="发送多种数据的多部分对象集合"><a href="#发送多种数据的多部分对象集合" class="headerlink" title="发送多种数据的多部分对象集合"></a>发送多种数据的多部分对象集合</h3><p>采用MIME（Multipurpose Internet Mail Extensions，多用途因特网邮件扩展）机制，允许邮件处理文本、图片、视频等多个不同类型的数据。</p>
<h3 id="获取部分内容的范围请求"><a href="#获取部分内容的范围请求" class="headerlink" title="获取部分内容的范围请求"></a>获取部分内容的范围请求</h3><p>传输图片时突然中断，如何在恢复后从之前的中断出恢复传输，而不是重新传输图片呢？要实现恢复传输就要指定下载的实体范围。指定范围的发送的请求叫做范围请求。<br>例如对一份10000字节大小的资源，使用范围请求，可以只请求5001-10000字节内的资源。</p>
<ul>
<li>5001-10000字节</li>
</ul>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Range:bytes=<span class="hljs-number">5001</span><span class="hljs-number">-10000</span></span><br></pre></td></tr></table></figure>
<ul>
<li>5001字节之后的全部的</li>
</ul>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Range:bytes=<span class="hljs-number">5001</span>-</span><br></pre></td></tr></table></figure>
<ul>
<li>0-3000字节、5000-7000字节的多重范围</li>
</ul>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Range:bytes=<span class="hljs-number">-3000</span>，<span class="hljs-number">5000</span><span class="hljs-number">-7000</span></span><br></pre></td></tr></table></figure>
<h3 id="内容协商返回最合适的内容"><a href="#内容协商返回最合适的内容" class="headerlink" title="内容协商返回最合适的内容"></a>内容协商返回最合适的内容</h3><p>同一个Web网站有可能存在着多份相同内容的页面。比如英语版和中文版的Web页面。当浏览器默认的语言为英文或中文，访问相同的URI的Web页面时，会显示对应的英语版或中文版的Web页面。这种机制称为内容协商。</p>
<p>内容协商机制是指客户端和服务器端就响应的资源内容进行交涉，然后提供给客户端最为适合的资源。内容协商会以响应资源的语言、字符集、编码方式等作为判断的基准。例如</p>
<ul>
<li>Accept</li>
<li>Accept-Charset</li>
<li>Accept-Encodeing</li>
<li>Accept-Language</li>
<li>Content-Language</li>
</ul>
<p>内容协商有以下3种类型</p>
<ul>
<li>服务器驱动协商：服务器端进行内容协商。</li>
<li>客户端驱动协商：由客户端进行内容协商的方式。</li>
<li>透明协商：服务器驱动和客户端驱动的结合体，各自进行内容协商的一种方法。</li>
</ul>
<h2 id="返回结果的HTTP状体码"><a href="#返回结果的HTTP状体码" class="headerlink" title="返回结果的HTTP状体码"></a>返回结果的HTTP状体码</h2><p>HTTP状态码负责表示客户端HTTP的请求的返回结果、服务器端处理是否正常、通知出现错误等工作。</p>
<h3 id="状态码告知从服务器端返回的请求结果"><a href="#状态码告知从服务器端返回的请求结果" class="headerlink" title="状态码告知从服务器端返回的请求结果"></a>状态码告知从服务器端返回的请求结果</h3><p>状态码由3位数字和原因短语组成，例如200 OK，数字中的第一位指定了响应类型，后两位无分类。状态码的类别如下：</p>
<p>数字    类别    原因短语<br>1XX    Information（信息性状态码）    接收的请求正在处理<br>2XX    Success（成功状态码）    请求正常处理完毕<br>3XX    Redirection（重定向状态码）    需要执行附加操作以完成请求<br>4XX    Client Error（客户端错误状态码）    服务器无法处理请求<br>5XX    Server Error（服务器错误状态码）    服务器处理请求出错</p>
<table>
<thead>
<tr>
<th style="text-align:left">数字</th>
<th style="text-align:left">类别</th>
<th style="text-align:left">原因短语</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1XX</td>
<td style="text-align:left">Information（信息性状态码）</td>
<td style="text-align:left">接收的请求正在处理</td>
</tr>
<tr>
<td style="text-align:left">2XX</td>
<td style="text-align:left">Success（成功状态码）</td>
<td style="text-align:left">请求正常处理完毕</td>
</tr>
<tr>
<td style="text-align:left">3XX</td>
<td style="text-align:left">Redirection（重定向状态码）</td>
<td style="text-align:left">需要执行附加操作以完成请求</td>
</tr>
<tr>
<td style="text-align:left">4XX</td>
<td style="text-align:left">Client Error（客户端错误状态码）</td>
<td style="text-align:left">服务器无法处理请求</td>
</tr>
<tr>
<td style="text-align:left">5XX</td>
<td style="text-align:left">Server Error（服务器错误状态码）</td>
<td style="text-align:left">服务器处理请求出错</td>
</tr>
</tbody>
</table>
<blockquote>
<p>提示：HTTP状态码数量大概有60余种，实际上经常使用的大概只有十几种。</p>
</blockquote>
<h3 id="1XX-正在处理"><a href="#1XX-正在处理" class="headerlink" title="1XX 正在处理"></a>1XX 正在处理</h3><p>1XX响应结果表明请求已被接受，需要继续处理。</p>
<h4 id="100-Continue"><a href="#100-Continue" class="headerlink" title="100 Continue"></a>100 Continue</h4><p>客户端应当继续发送请求。这个临时响应是用来通知客户端它的部分请求已经被服务器接收，且仍未被拒绝。客户端应当继续发送请求的剩余部分，或者如果请求已经完成，忽略这个响应。服务器必须在请求完成后向客户端发送一个最终响应。</p>
<h4 id="101-Switching-Protocols"><a href="#101-Switching-Protocols" class="headerlink" title="101 Switching Protocols"></a>101 Switching Protocols</h4><p>服务器已经理解了客户端的请求，并将通过Upgrade 消息头通知客户端采用不同的协议来完成这个请求。</p>
<h3 id="2XX-成功"><a href="#2XX-成功" class="headerlink" title="2XX 成功"></a>2XX 成功</h3><p>2XX响应结果表明请求被正常处理。</p>
<h4 id="200-OK（常见）"><a href="#200-OK（常见）" class="headerlink" title="200 OK（常见）"></a>200 OK（常见）</h4><p>表示从客户端发来的请求在服务器端被正常处理了。例如：</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Status Code:<span class="hljs-number">200</span> OK</span><br></pre></td></tr></table></figure>
<h4 id="204-No-Content"><a href="#204-No-Content" class="headerlink" title="204 No Content"></a>204 No Content</h4><p>仍然表明请求被服务器端正常处理，但在返回的响应报文中不含实体的主体部分。</p>
<h4 id="206-Partial-Content"><a href="#206-Partial-Content" class="headerlink" title="206 Partial Content"></a>206 Partial Content</h4><p>表示客户端进行了范围请求，而服务器成功执行了这部分的GET请求。响应报文中包含了由Content-Range指定范围的实体内容。</p>
<h3 id="3XX-重定向"><a href="#3XX-重定向" class="headerlink" title="3XX 重定向"></a>3XX 重定向</h3><p>3XX响应结果表明浏览器需要执行某些特殊的处理以正确处理请求。</p>
<h4 id="301-Moved-Permanently"><a href="#301-Moved-Permanently" class="headerlink" title="301 Moved Permanently"></a>301 Moved Permanently</h4><p>永久性重定向。如果请求的服务器资源被分配了新的URI（即修改了URI），以后就使用新的URI去指定服务器资源。比如，客户端保存了某个资源的URI作为书签，服务器端相对应资源的URI已经修改，则提醒客户端更新书签引用，从而客户端进行修改书签引用，此时就会产生301状态码。</p>
<blockquote>
<p>提示：这里浏览器需要执行的特殊处理就是用新的URI去正确请求资源，如果有保存书签则更新书签。</p>
</blockquote>
<h4 id="302-Found"><a href="#302-Found" class="headerlink" title="302 Found"></a>302 Found</h4><p>临时性重定向。请求的资源被分配了新的URI，希望用户（本次）能使用新的URI访问。与301状态码功能类似，但是302表示临时性变更。比如用户把对应资源的URI保存成书签，但不会像301状态码出现时那样去更新书签。</p>
<blockquote>
<p>提示：这里浏览器需要执行的特殊处理就是用新的URI去正确请求资源，但是如果有书签也不更新书签。</p>
</blockquote>
<h4 id="303-See-Other"><a href="#303-See-Other" class="headerlink" title="303 See Other"></a>303 See Other</h4><p>该状态码表示由于请求对应的资源存在着另一个URI，应使用GET方法定向获取请求的资源。303状态码和302状态码有着相同的功能，但303明确表示客户端应采用GET方法获取资源。比如使用POST方法访问CGI程序，执行处理的结果是希望客户端能以GET方法重定向到另一个URI上去时，返回303状态码。虽然302状态码也可以实现实现相同的功能，但是这里使用303状态码更理想。</p>
<blockquote>
<p>提示：很多现存的浏览器将302响应视为303响应，并使用GET方法访问在Location中规定的URI，而无视原先请求的方法。301、302、303响应状态返回时，几乎所有的浏览器都会把POST改成GET，并删除请求报文内的主体，之后请求会自动再次发送。301、302标准虽然是禁止将POST方法改变成GET的，但实际上大家都会这么做。</p>
</blockquote>
<h4 id="304-Not-Modified（常见）"><a href="#304-Not-Modified（常见）" class="headerlink" title="304 Not Modified（常见）"></a>304 Not Modified（常见）</h4><p>客户端发送附带条件的请求时，服务器端允许请求访问资源，但因发生请求未满足条件的情况后，直接返回304（服务器资源未改变，可直接使用客户端未过期的缓存），304返回时，不包含任何响应的主体部分（所以加载很快，毕竟是本地缓存嘛！）。需要注意的是，304和重定向没有关系！</p>
<p>附带条件的类型（任意一个就行）</p>
<ul>
<li>If-Modified-Since</li>
<li>If-None-Match</li>
<li>If-Range</li>
<li>If-Unmodified-Since</li>
</ul>
<p>示例：</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">If-Modified-Since:Mon, <span class="hljs-number">28</span> Sep <span class="hljs-number">2015</span> <span class="hljs-number">08</span>:<span class="hljs-number">00</span>:<span class="hljs-number">31</span> GMT</span><br><span class="line">If-None-Match:<span class="hljs-string">"809096666"</span></span><br></pre></td></tr></table></figure>
<h4 id="307-Temporary-Redirect"><a href="#307-Temporary-Redirect" class="headerlink" title="307 Temporary Redirect"></a>307 Temporary Redirect</h4><p>临时重定向。该状态码和302 Found有着相同的含义。302标准禁止POST变换成GET，但是实际上大家并不遵守。307会遵照浏览器标准，不会从POST变成GET。</p>
<h3 id="4XX-客户端错误"><a href="#4XX-客户端错误" class="headerlink" title="4XX 客户端错误"></a>4XX 客户端错误</h3><p>4XX的响应结果表明客户端是发生错误的原因所在。</p>
<h4 id="400-Bad-Request"><a href="#400-Bad-Request" class="headerlink" title="400 Bad Request"></a>400 Bad Request</h4><p>400表示请求报文中存在语法错误，需修改请求内容后再次发送请求。</p>
<h4 id="401-Unauthorized"><a href="#401-Unauthorized" class="headerlink" title="401 Unauthorized"></a>401 Unauthorized</h4><p>401表示发送的请求需要通过HTTP认证（BASIC认真、DIGEST认证）的认证信息。当浏览器初次接收到该状态响应时，会弹出认证用的对话窗口。</p>
<h4 id="403-Forbidden"><a href="#403-Forbidden" class="headerlink" title="403 Forbidden"></a>403 Forbidden</h4><p>403表明对请求资源的访问被服务器拒绝了，服务器可以不给出理由，如果想说明的话，可以在实体的主体部分给出详细理由说明。发生这种情况的原因可能是客户端并未获得服务器端文件系统的访问授权、访问权限出现某些问题（从未授权的的发送源IP地址进行访问）等。</p>
<h4 id="404-Not-Found（常见）"><a href="#404-Not-Found（常见）" class="headerlink" title="404 Not Found（常见）"></a>404 Not Found（常见）</h4><p>404表明服务器上无法找到请求的资源。当然也可以在服务器端拒绝请求且不想说明理由时使用。</p>
<h3 id="5XX-服务器错误"><a href="#5XX-服务器错误" class="headerlink" title="5XX 服务器错误"></a>5XX 服务器错误</h3><p>5XX的响应结果表明服务器本身发生错误。</p>
<h4 id="500-Internal-Server-Error-（Express中常用）"><a href="#500-Internal-Server-Error-（Express中常用）" class="headerlink" title="500 Internal Server Error （Express中常用）"></a>500 Internal Server Error （Express中常用）</h4><p>500表明服务器端在执行客户端的请求时发生了错误，也可能是服务器内部出了故障。</p>
<h4 id="503-Service-Unavailable"><a href="#503-Service-Unavailable" class="headerlink" title="503 Service Unavailable"></a>503 Service Unavailable</h4><p>503表明服务器暂时处于超负荷或正在进行停机维护，现在无法处理请求。</p>
<h4 id="505-HTTP-Version-Not-Supported"><a href="#505-HTTP-Version-Not-Supported" class="headerlink" title="505 HTTP Version Not Supported"></a>505 HTTP Version Not Supported</h4><p>服务器不支持，或者拒绝支持在请求中使用的 HTTP 版本。这暗示着服务器不能或不愿使用与客户端相同的版本。响应中应当包含一个描述了为何版本不被支持以及服务器支持哪些协议的实体。</p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>状态码并不一定能正确表明响应状态，不少返回的状态码响应都是错误的，但是用户察觉不到。比如Web应用程序内部发生错误，状态码仍然返回200 OK。</p>
<h2 id="与HTTP协作的Web服务器"><a href="#与HTTP协作的Web服务器" class="headerlink" title="与HTTP协作的Web服务器"></a>与HTTP协作的Web服务器</h2><p>一台Web服务器可搭建多个独立域名的Web网站，也可作为通信路径上的中转服务器提升传输效率。</p>
<h3 id="用单台虚拟机实现多个域名"><a href="#用单台虚拟机实现多个域名" class="headerlink" title="用单台虚拟机实现多个域名"></a>用单台虚拟机实现多个域名</h3><p>HTTP/1.1规范允许一台HTTP服务器搭建多个Web站点，因为利用了虚拟主机（虚拟服务器）的功能。客户端利用HTTP协议访问服务器时，会经常采用类似的<a href="http://www.hackr.jp这样的主机名和域名。域名通过DNS服务映射到IP地址（域名解析）后访问目标" target="_blank" rel="noopener">www.hackr.jp这样的主机名和域名。域名通过DNS服务映射到IP地址（域名解析）后访问目标</a> 网站。如果同一台服务器托管了不同的两个域名，使用DNS解析域后两者访问的IP地址会相同。</p>
<h3 id="代理，网关，隧道"><a href="#代理，网关，隧道" class="headerlink" title="代理，网关，隧道"></a>代理，网关，隧道</h3><p>HTTP通信时，除了客户端和服务器意外，还有一些用于通信数据转发的应用程序，例如代理，网关和隧道，它们可以配合服务器工作。这些应用程序和服务器可以请求转发给通信线路上的下一站服务器，并且能接收那台服务器发送的响应再转发给客户端。</p>
<ul>
<li><p>代理<br>具有转发功能，相当于客户端和服务器之间的中间人，接收到客户端发送的请求并转发给服务器，同时也可以接收服务器返回的响应并转发给客户端。</p>
</li>
<li><p>网关<br>转发其他服务器的通信数据的服务器，接收从客户端发送来的请求时，可以从其他服务器上获取资源然后就像自己拥有资源的源服务器一样对请求进行处理。客户端可能都不知道自己的通信目标是一个网关。</p>
</li>
<li><p>隧道<br>服务器和客户端如果非常远，可以使用隧道进行中转，并保持双方通信连接的应用程序。</p>
</li>
</ul>
<h4 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h4><p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/12daili.png" alt="Alt text"></p>
<p>HTTP通信过程中，可级联多台代理服务器，转发时，需要附加Via首部字段以标记出经过的代理服务器信息。同时，通过设置组织内部的代理服务器可做到针对特定URI访问的控制。代理服务器的作用：</p>
<ul>
<li>利用缓存技术减少网络带宽的流量</li>
<li>组织内部针对特定网站的访问控制</li>
<li>获取访问日志</li>
</ul>
<p>代理有多种使用方法，一种是否使用缓存，一种是否会修改报文。</p>
<ul>
<li><p>缓存代理<br>代理转发响应时，缓存代理会预先将资源的副本缓存在代理服务器上，如果接收到相同资源的请求时，可以不从源服务器那里获取资源，将之前缓存的资源作为响应返回。</p>
</li>
<li><p>透明代理<br>转发请求或响应时，不对报文做任何加工的代理类型被称为透明代理，反之被称为非透明代理。</p>
</li>
</ul>
<h4 id="网关"><a href="#网关" class="headerlink" title="网关"></a>网关</h4><p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/13wangguan.png" alt="Alt text"></p>
<p>网关的工作机制和代理有点相似，但是网关能使通信线路上的服务器提供非HTTP协议服务。利用网关提高通信的安全性，可以在客户端和网关的通信线路上加密以确保连接的安全。</p>
<h4 id="隧道"><a href="#隧道" class="headerlink" title="隧道"></a>隧道</h4><p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/14suidao.png" alt="Alt text"></p>
<p>通过隧道的传输，可以和远距离的服务器安全通信，隧道本身是透明的，客户端不用在意隧道的存在。</p>
<h3 id="保存资源的缓存"><a href="#保存资源的缓存" class="headerlink" title="保存资源的缓存"></a>保存资源的缓存</h3><p>缓存有两种，一种是保存在代理服务器上的资源副本，一种是在客户端本地磁盘内保存的资源副本。利用缓存可以节省通信流量和通信时间。缓存服务器是代理服务器的一种，归类为缓存代理类，当代理转发从源服务器返回的额响应时，代理服务器会保存一份资源的副本，如果下一次请求同样的资源，则直接由缓存服务器返回给客户端，而不是再次去请求源服务器。因此客户端可就近从缓存服务器上获取资源，而源服务器也不必多次处理相同的请求了。</p>
<h4 id="缓存的有效期"><a href="#缓存的有效期" class="headerlink" title="缓存的有效期"></a>缓存的有效期</h4><p>缓存的数据是有有效期的，不然源服务器更新了资源以后，仍然从缓存服务器获取数据则请求的将是’旧’资源了。所以会因为客户端的要求、缓存的有效期等因素，向源服务器确认资源的有效性。若判断了缓存失效，缓存服务器将从源服务器上获取’新’资源。</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/15huancun.png" alt="Alt text"></p>
<h4 id="客户端的缓存"><a href="#客户端的缓存" class="headerlink" title="客户端的缓存"></a>客户端的缓存</h4><p>缓存当然不仅仅可以缓存在代理服务器（缓存服务器）上，还可以存在客户端浏览器中。以IE程序为例，把客户端缓存称为临时网络文件。浏览器缓存有效，就不必再向服务器请求相同的资源了，可以直接从本地磁盘内读取。和缓存服务器相同的一点是，当判断缓存过期，会向源服务器确认资源的有效性，若判断浏览器缓存失效，浏览器会再次请求新资源。</p>
<h2 id="HTTP首部"><a href="#HTTP首部" class="headerlink" title="HTTP首部"></a>HTTP首部</h2><p>HTTP协议的请求和响应报文中必定包含HTTP首部，只是平时用户在使用时感受不到它。</p>
<h3 id="HTTP报文首部"><a href="#HTTP报文首部" class="headerlink" title="HTTP报文首部"></a>HTTP报文首部</h3><h4 id="HTTP请求报文"><a href="#HTTP请求报文" class="headerlink" title="HTTP请求报文"></a>HTTP请求报文</h4><p>访问hackr请求报文示例：</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Accept:text/html,application/xhtml+xml,application/xml;q=<span class="hljs-number">0.9</span>,image/webp,*<span class="hljs-comment">/*;q=0.8</span></span><br><span class="line"><span class="hljs-comment">Accept-Encoding:gzip, deflate, sdch</span></span><br><span class="line"><span class="hljs-comment">Accept-Language:zh-CN,zh;q=0.8</span></span><br><span class="line"><span class="hljs-comment">Connection:keep-alive</span></span><br><span class="line"><span class="hljs-comment">Host:hackr.jp</span></span><br><span class="line"><span class="hljs-comment">Upgrade-Insecure-Requests:1</span></span><br><span class="line"><span class="hljs-comment">User-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36</span></span><br></pre></td></tr></table></figure>
<h4 id="HTTP响应报文"><a href="#HTTP响应报文" class="headerlink" title="HTTP响应报文"></a>HTTP响应报文</h4><p>访问hackr响应报文示例：</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Accept-Ranges:bytes</span><br><span class="line">Connection:close</span><br><span class="line">Content-Encoding:gzip</span><br><span class="line">Content-Length:<span class="hljs-number">379</span></span><br><span class="line">Content-Type:text/html</span><br><span class="line"><span class="hljs-built_in">Date</span>:Wed, <span class="hljs-number">22</span> Jun <span class="hljs-number">2016</span> <span class="hljs-number">10</span>:<span class="hljs-number">33</span>:<span class="hljs-number">28</span> GMT</span><br><span class="line">ETag:<span class="hljs-string">"45bae1-25e-4d2c3145df440"</span></span><br><span class="line">Last-Modified:Tue, <span class="hljs-number">08</span> Jan <span class="hljs-number">2013</span> <span class="hljs-number">08</span>:<span class="hljs-number">53</span>:<span class="hljs-number">29</span> GMT</span><br><span class="line">Server:Apache</span><br><span class="line">Vary:Accept-Encoding,User-Agent</span><br></pre></td></tr></table></figure>
<h3 id="HTTP首部字段"><a href="#HTTP首部字段" class="headerlink" title="HTTP首部字段"></a>HTTP首部字段</h3><h4 id="HTTP首部字段传递重要信息"><a href="#HTTP首部字段传递重要信息" class="headerlink" title="HTTP首部字段传递重要信息"></a>HTTP首部字段传递重要信息</h4><p>使用首部字段是为了给浏览器和服务器提供报文主体大小、所使用的语言、认证信息等内容。比如浏览器可以告诉服务器只能解释中文，而服务器可以告诉浏览器多少时间后再过来访问。</p>
<h4 id="HTTP首部字段结构"><a href="#HTTP首部字段结构" class="headerlink" title="HTTP首部字段结构"></a>HTTP首部字段结构</h4><p>首部字段由首部字段名和首部字段值构成，例如Content-Type用来表示报文主体的对象类型</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Type:text/html</span><br></pre></td></tr></table></figure>
<p>首部字段名    首部字段值<br>Content-Type    text/html</p>
<table>
<thead>
<tr>
<th style="text-align:left">首部字段名</th>
<th style="text-align:right">首部字段值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Content-Type</td>
<td style="text-align:right">text/html</td>
</tr>
</tbody>
</table>
<p>首部字段值对应的单个HTTP首部字段可以有多个值，例如</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Accept-Encoding:gzip, deflate, sdch</span><br></pre></td></tr></table></figure>
<blockquote>
<p>提示：如果首部字段重复，则根据浏览器内部处理逻辑不通，结果可能并不一致，有些浏览器首先处理第一次出现的首部字段，有些则会优先处理最后出现的首部字段。</p>
</blockquote>
<h4 id="HTTP首部字段类型"><a href="#HTTP首部字段类型" class="headerlink" title="HTTP首部字段类型"></a>HTTP首部字段类型</h4><table>
<thead>
<tr>
<th style="text-align:left">首部字段类型</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">通用首部字段</td>
<td style="text-align:left">请求报文和响应报文都会使用的首部</td>
</tr>
<tr>
<td style="text-align:left">请求首部字段</td>
<td style="text-align:left">请求报文会使用的首部</td>
</tr>
<tr>
<td style="text-align:left">响应首部字段</td>
<td style="text-align:left">响应报文会使用的首部</td>
</tr>
<tr>
<td style="text-align:left">实体首部字段</td>
<td style="text-align:left">针对请求报文和响应报文的实体部分使用的首部</td>
</tr>
</tbody>
</table>
<h4 id="HTTP-1-1首部字段预览"><a href="#HTTP-1-1首部字段预览" class="headerlink" title="HTTP/1.1首部字段预览"></a>HTTP/1.1首部字段预览</h4><ul>
<li>通用首部字段</li>
</ul>
<p>Cache-Control：    控制缓存的行为<br>Connection：逐级首部、连接管理<br>Date：    创建报文的日期时间<br>Pragma：报文指令<br>Trailer：报文末端的首部一览<br>Transfer-Encoding：指定报文主体的传输编码方式<br>Upgrade：升级为其他协议<br>Via：代理服务器的相关信息<br>Warning：错误通知</p>
<ul>
<li>请求首部字段</li>
</ul>
<p>Accept：用户代理可处理的媒体类型<br>Accept-Charset：优先的字符集<br>Accept-Encoding：优先的内容编码<br>Accept-Language：    优先的语言<br>Authorization：Web认真信息<br>Host    ：请求资源所在服务器<br>If-Modified-Since    ：比较资源的更新时间<br>If-Range：资源未更新时发送实体Byte的范围请求<br>Range：实体的字节范围请求<br>User-Agent：HTTP客户端程序的信息</p>
<ul>
<li>响应首部字段</li>
</ul>
<p>Accept-Ranges    ：是否接受字节范围请求<br>Age：推算资源创建经过时间<br>ETag    ：资源的匹配信息<br>Location：令客户端重定向至指定的URI<br>Server：HTTP服务器的安装信息<br>Vary    ：代理服务器缓存的管理信息</p>
<ul>
<li>实体首部字段</li>
</ul>
<p>Allow：资源可支持的HTTP方法<br>Content-Encoding：实体主体的自然语言<br>Content-Length：实体主体的大小（单位:字节）<br>Content-Location    ：替代对应资源的URI<br>Content-Range：实体主体的位置范围<br>Content-Type：实体主体的媒体类型<br>Expires    ：实体主体过期的日期时间<br>Last-Modified：资源最后修改的日期时间</p>
<h4 id="非HTTP-1-1首部字段"><a href="#非HTTP-1-1首部字段" class="headerlink" title="非HTTP/1.1首部字段"></a>非HTTP/1.1首部字段</h4><p>比如Cookie、Set-Cookie等。</p>
<h4 id="End-to-end首部和Hop-by-hop首部"><a href="#End-to-end首部和Hop-by-hop首部" class="headerlink" title="End-to-end首部和Hop-by-hop首部"></a>End-to-end首部和Hop-by-hop首部</h4><ul>
<li><p>端到端首部<br>会转发给请求（响应）对应的最终接收目标，且必须保存在由缓存生成的响应中，另外规定它必须被转发。</p>
</li>
<li><p>逐跳首部<br>只对单次转发有效，会因通过缓存或代理而不再转发，HTTP/1.1和之后的版本如果要使用Hop-by-hop首部需提供Connection首部字段。</p>
</li>
</ul>
<p>逐跳首部字段有以下8种，除了这些以外的都是端到端首部</p>
<ul>
<li>Connection</li>
<li>Keep-Alive</li>
<li>Proxy-Authenticate</li>
<li>Proxy-Authorization</li>
<li>Trailer</li>
<li>TE</li>
<li>Transfer-Encoding</li>
<li>Upgrade</li>
</ul>
<h3 id="HTTP-1-1通用首部字段"><a href="#HTTP-1-1通用首部字段" class="headerlink" title="HTTP/1.1通用首部字段"></a>HTTP/1.1通用首部字段</h3><p>请求报文和响应报文双方都会使用的首部。</p>
<h4 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h4><p>使用此首部可以操作缓存机制。参数可选，使用，分隔，示例如下</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:max-age=<span class="hljs-number">0</span>,no-cache</span><br></pre></td></tr></table></figure>
<p>缓存请求指令</p>
<table>
<thead>
<tr>
<th style="text-align:left">指令参数</th>
<th style="text-align:left">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">no-cache</td>
<td style="text-align:left">无</td>
<td style="text-align:left">强制向源服务器再次验证</td>
</tr>
<tr>
<td style="text-align:left">no-store</td>
<td style="text-align:left">无</td>
<td style="text-align:left">不缓存请求（响应）的任何内容</td>
</tr>
<tr>
<td style="text-align:left">max-age=[秒]</td>
<td style="text-align:left">必需</td>
<td style="text-align:left">响应的最大Age值</td>
</tr>
<tr>
<td style="text-align:left">no-transform</td>
<td style="text-align:left">无</td>
<td style="text-align:left">代理不可更改媒体类型</td>
</tr>
<tr>
<td style="text-align:left">only-if-cached</td>
<td style="text-align:left">无</td>
<td style="text-align:left">从缓存获取资源</td>
</tr>
</tbody>
</table>
<p>缓存响应指令</p>
<p>指令    参数    说明<br>public    无    可向任意方提供响应的缓存<br>private    可省略    仅向特定用户返回省略<br>no-cache    可省略    缓存前必须先确认其有效性<br>no-store    无    不缓存请求（响应）的任何内容<br>max-age=[秒]    必需    响应的最大Age值<br>s-maxage=[秒]    必需    公共缓存服务器响应的最大Age值<br>no-transform    无    代理不可更改媒体类型</p>
<table>
<thead>
<tr>
<th style="text-align:left">指令参数</th>
<th style="text-align:left">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">public</td>
<td style="text-align:left">无</td>
<td style="text-align:left">可向任意方提供响应的缓存</td>
</tr>
<tr>
<td style="text-align:left">private</td>
<td style="text-align:left">可省略</td>
<td style="text-align:left">仅向特定用户返回省略</td>
</tr>
<tr>
<td style="text-align:left">no-cache</td>
<td style="text-align:left">可省略</td>
<td style="text-align:left">缓存前必须先确认其有效性</td>
</tr>
<tr>
<td style="text-align:left">no-store</td>
<td style="text-align:left">无</td>
<td style="text-align:left">不缓存请求（响应）的任何内容</td>
</tr>
<tr>
<td style="text-align:left">max-age=[秒]</td>
<td style="text-align:left">必需</td>
<td style="text-align:left">响应的最大Age值</td>
</tr>
<tr>
<td style="text-align:left">max-age=[秒]</td>
<td style="text-align:left">必需</td>
<td style="text-align:left">响应的最大Age值</td>
</tr>
<tr>
<td style="text-align:left">s-maxage=[秒]</td>
<td style="text-align:left">必需</td>
<td style="text-align:left">公共缓存服务器响应的最大Age值</td>
</tr>
<tr>
<td style="text-align:left">no-transform</td>
<td style="text-align:left">无</td>
<td style="text-align:left">代理不可更改媒体类型</td>
</tr>
</tbody>
</table>
<h5 id="能否缓存"><a href="#能否缓存" class="headerlink" title="能否缓存"></a>能否缓存</h5><p>public</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:public</span><br></pre></td></tr></table></figure>
<p>明确表明其他用户也可利用缓存。<br>private</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:private</span><br></pre></td></tr></table></figure>
<p>缓存服务器会对特定用户提供资源缓存的服务，对于其他用户发送过来的请求代理服务器不会返回缓存。</p>
<p>no-cache</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/16cache.png" alt="Alt text"></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:no-cache</span><br></pre></td></tr></table></figure>
<p>使用no-cache目的是防止从缓存中返回过期的资源。客户端发送请求如果包含该指令则表示客户端不会接收缓存过的响应。缓存服务器必须把客户端的请求转发给源服务器（强制向源服务器验证）。如果源服务器返回的响应包含该指令，那么缓存服务器不能对资源进行缓存，源服务器以后也不会对缓存服务器请求中提出的资源有效性进行确认，禁止对响应资源进行缓存操作。</p>
<blockquote>
<p>提示：无参数的响应（源服务器发送的首部字段）首部字段可以在客户端使用缓存，不能在缓存服务器使用缓存。</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:no-cache=Location</span><br></pre></td></tr></table></figure>
<p>如果对no-cache指定具体参数值，那么客户端在接收到这个被指定参数值得首部字段对应的响应报文后，就不能使用缓存，当然无参数的首部字段可以在客户端使用缓存。</p>
<blockquote>
<p>提示：只能在响应指令中指定该指令的参数值。</p>
</blockquote>
<h5 id="控制可执行缓存的对象的指令"><a href="#控制可执行缓存的对象的指令" class="headerlink" title="控制可执行缓存的对象的指令"></a>控制可执行缓存的对象的指令</h5><p>no-store</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:no-store</span><br></pre></td></tr></table></figure>
<p>暗示请求或响应中包含机密信息，规定缓存不能在本地存储请求或响应的任一部分。</p>
<blockquote>
<p>提示： no-store是真正的不进行缓存，而no-cache代表不缓存过期的资源。</p>
</blockquote>
<h5 id="缓存期限和认证"><a href="#缓存期限和认证" class="headerlink" title="缓存期限和认证"></a>缓存期限和认证</h5><p>max-age</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/17age.png" alt="Alt text"></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:max-age=<span class="hljs-number">6000</span>（单位是秒）</span><br></pre></td></tr></table></figure>
<p>客户端发送请求中如果判定缓存资源的缓存时间数值比指定时间的数值更小，那么客户端就接收缓存的资源，如果指定max-age为0，那么缓存服务器通常需要将请求转发给源服务器。而服务器返回的响应中包含max-age指令时，缓存服务器将不对资源的有效性再做确认，max-age数值代表资源保存为缓存的最长时间。</p>
<blockquote>
<p>提示：HTTP/1.1缓存服务器遇到同时存在Expires首部字段的情况时，会优先处理max-age指令，而HTTP/1.0恰好相反。</p>
</blockquote>
<p>s-maxage</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:s-maxage=<span class="hljs-number">6000</span>（单位：秒）</span><br></pre></td></tr></table></figure>
<p>s-maxage指令的功能和max-age相同。不同点在于s-maxage指令只适用于提供多位用户使用的公共缓存服务器（代理服务器）。对于同一用户重复返回响应的服务器没有任何作用。</p>
<blockquote>
<p>提示：使用s-maxage会忽略Expires和max-age。</p>
</blockquote>
<p>min-fresh</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:min-fresh=<span class="hljs-number">60</span>(单位：秒)</span><br></pre></td></tr></table></figure>
<p>该指令要求缓存服务器返回至少还未过指定时间的缓存资源。如果指定60s，在这60s以内如果有超过有效期限的资源都无法作为响应返回。</p>
<p>must-revalidate</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:must-revalidate</span><br></pre></td></tr></table></figure>
<p>代理会向源服务器再次验证即将返回的响应缓存目前是否仍然有效。若代理无法向源服务器再次获取有效资源的话，缓存必须给客户端一条504状态码。</p>
<p>no-transform</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control:no-transform</span><br></pre></td></tr></table></figure>
<p>无论请求还是响应，缓存不能改变主体的媒体类型。可防止缓存（代理）压缩图片等类似操作。</p>
<h4 id="Connection"><a href="#Connection" class="headerlink" title="Connection"></a>Connection</h4><ul>
<li>控制不再转发给代理的首部字段</li>
<li>管理持久连接</li>
</ul>
<h5 id="控制不再转发给代理的首部字段"><a href="#控制不再转发给代理的首部字段" class="headerlink" title="控制不再转发给代理的首部字段"></a>控制不再转发给代理的首部字段</h5><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Upgrade:HTTP/<span class="hljs-number">1.1</span></span><br><span class="line">Connection:Upgrade</span><br></pre></td></tr></table></figure>
<p>在客户端发送请求和服务器返回响应内，使用Connection首部字段可控制不再转发给代理的首部字段。</p>
<h5 id="管理持久连接"><a href="#管理持久连接" class="headerlink" title="管理持久连接"></a>管理持久连接</h5><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connection:Keep-Alive</span><br></pre></td></tr></table></figure>
<p>HTTP/1.1默认都是持久连接的。以上是客户端请求响应时的持久连接首部信息。</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connection:close</span><br></pre></td></tr></table></figure>
<p>服务器想明确断开连接，则指定该首部字段的值为close。</p>
<h4 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">Date</span>:Thu, <span class="hljs-number">23</span> Jun <span class="hljs-number">2016</span> <span class="hljs-number">06</span>:<span class="hljs-number">19</span>:<span class="hljs-number">55</span> GMT</span><br></pre></td></tr></table></figure>
<p>该首部字段表明创建HTTP报文的日期和时间。</p>
<h4 id="Pragma"><a href="#Pragma" class="headerlink" title="Pragma"></a>Pragma</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Pragma:no-cache</span><br><span class="line">Cache-Control:no-cache</span><br></pre></td></tr></table></figure>
<p>该首部字段是HTTP/1.1之前的版本遗留字段，为了向低版本的HTTP协议兼容，一般需要加上该字段，作用和Cache-Control:no-cache一样，虽然属于通用首部字段，但是只用在客户端发送的请求中。客户端会要求所有的中间服务器不返回缓存的资源。为了兼容，一般会把两个首部字段都加上。</p>
<h4 id="Transfer-Encoding"><a href="#Transfer-Encoding" class="headerlink" title="Transfer-Encoding"></a>Transfer-Encoding</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Transfer-Encoding:chunked</span><br></pre></td></tr></table></figure>
<p>规定了传输报文主体时采用的编码方式。HTTP/1.1的传输编码方式对分块传输编码有效。</p>
<h4 id="Upgrade"><a href="#Upgrade" class="headerlink" title="Upgrade"></a>Upgrade</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Upgrade:HTTP/<span class="hljs-number">1.1</span></span><br><span class="line">Connection:Upgrade</span><br></pre></td></tr></table></figure>
<p>用于检测HTTP协议及其他协议是否可使用更高版本进行通信，参数也可以指定一个完全不同的通信协议。</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Upgrade:TLS/<span class="hljs-number">1.0</span></span><br><span class="line">Connection:Upgrade</span><br></pre></td></tr></table></figure>
<p>必须这样捆绑使用，因为Upgrade首部字段产生的作用仅限于客户端和邻接服务器之间。</p>
<h4 id="Via"><a href="#Via" class="headerlink" title="Via"></a>Via</h4><p>追踪客户端和服务器之间的请求和响应报文的传输路径。报文经过代理和网关时会先在首部字段Via中附加该服务器的信息，然后在进行转发。</p>
<h4 id="Warning"><a href="#Warning" class="headerlink" title="Warning"></a>Warning</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Warning: [警告码] [警告的主机：端口号] <span class="hljs-string">"[警告内容]"</span> （[日期时间]）</span><br><span class="line">Warning: <span class="hljs-number">113</span> gw.hacker.jp:<span class="hljs-number">8080</span> <span class="hljs-string">"Heuristic expiration"</span> Tue,<span class="hljs-number">03</span> JUL =&gt; <span class="hljs-number">2012</span> <span class="hljs-number">05</span>:<span class="hljs-number">09</span>:<span class="hljs-number">44</span> GMT</span><br></pre></td></tr></table></figure>
<blockquote>
<p>提示：警告码和含义可以查阅相关资料。</p>
</blockquote>
<h3 id="HTTP-1-1请求首部字段"><a href="#HTTP-1-1请求首部字段" class="headerlink" title="HTTP/1.1请求首部字段"></a>HTTP/1.1请求首部字段</h3><h4 id="Accept"><a href="#Accept" class="headerlink" title="Accept"></a>Accept</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Accept:text/html,application/xhtml+xml,application/xml;q=<span class="hljs-number">0.9</span>,image/webp,*<span class="hljs-comment">/*;q=0.8</span></span><br></pre></td></tr></table></figure>
<p>Accept首部字段可通知服务器用户代理能够处理的媒体类型及媒体类型的相对优先级。使用type/subtype形式，一次可以指定多种媒体类型。以下是媒体类型举例：</p>
<table>
<thead>
<tr>
<th style="text-align:left">媒体类型</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">文本文件</td>
<td style="text-align:left">text/html,text/plain,text/css, application/xhtml+xml,application/xml…</td>
</tr>
<tr>
<td style="text-align:left">图片文件</td>
<td style="text-align:left">image/jpeg,image/gif,image/webp,image/png…</td>
</tr>
<tr>
<td style="text-align:left">视频文件</td>
<td style="text-align:left">video/mpeg,video/quicktime…</td>
</tr>
<tr>
<td style="text-align:left">应用程序使用的二进制文件</td>
<td style="text-align:left">application/octet-stream,application/zip…</td>
</tr>
</tbody>
</table>
<p>使用q=可以表示要显示的媒体类型的权重值，用；分割，范围是0-1（可精确到小数点后三位），且1是最大值，默认权重值为1。客户端向服务器请求媒体数据时，当服务器可以提供多种媒体类型时，首先返回权重值最高的媒体类型。</p>
<h4 id="Accept-Charset"><a href="#Accept-Charset" class="headerlink" title="Accept-Charset"></a>Accept-Charset</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Accept-Charset:iso<span class="hljs-number">-8859</span><span class="hljs-number">-5</span>,unicode<span class="hljs-number">-1</span><span class="hljs-number">-1</span>;q=<span class="hljs-number">0.8</span></span><br></pre></td></tr></table></figure>
<p>用来通知服务器用户代理支持的字符集及字符集的相对优先顺序。</p>
<h4 id="Accept-Encoding"><a href="#Accept-Encoding" class="headerlink" title="Accept-Encoding"></a>Accept-Encoding</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Accept-Encoding:gzip,deflate</span><br></pre></td></tr></table></figure>
<p>用来告知服务器用户代理支持的内容编码以及这些编码的优先级。</p>
<table>
<thead>
<tr>
<th style="text-align:left">内容编码</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gzip</td>
<td style="text-align:left">由文件压缩程序gzip（GNU zip）生成的编码格式（RFC1952)，采用Lempel-Ziv算法（LZ77）及32位循环冗余校验（CRC）</td>
</tr>
<tr>
<td style="text-align:left">compress</td>
<td style="text-align:left">由UNIX文件压缩程序compress生成的编码格式，采用Lmepel-Ziv-Welch算法（LZW）</td>
</tr>
<tr>
<td style="text-align:left">deflate</td>
<td style="text-align:left">组成使用zlib格式及由deflate压缩算法生成的编码格式</td>
</tr>
<tr>
<td style="text-align:left">identity</td>
<td style="text-align:left">不执行压缩或不会变化的默认编码格式</td>
</tr>
</tbody>
</table>
<blockquote>
<p>提示：使用最多的当然是gzip编码格式，其次还有其他的一些编码格式例如sdch。</p>
</blockquote>
<h4 id="Accept-Language"><a href="#Accept-Language" class="headerlink" title="Accept-Language"></a>Accept-Language</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Accept-Language:zh-CN,zh;q=<span class="hljs-number">0.8</span></span><br></pre></td></tr></table></figure>
<p>告知服务器客户端能够处理的自然语言集（英文、中文等），可一次指定多种自然语言集。</p>
<h4 id="Authorization"><a href="#Authorization" class="headerlink" title="Authorization"></a>Authorization</h4><p>告知服务器客户端（用户代理）的认证信息（证书值）。</p>
<h4 id="Expect"><a href="#Expect" class="headerlink" title="Expect"></a>Expect</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Expect:<span class="hljs-number">100</span>-<span class="hljs-keyword">continue</span></span><br></pre></td></tr></table></figure>
<p>客户端使用首部字段Expect来告知服务器期望出现的某种特定行为。但是好像HTTP/1.1规范只指定了100-continue。</p>
<h4 id="Host"><a href="#Host" class="headerlink" title="Host"></a>Host</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Host:hackr.jp</span><br></pre></td></tr></table></figure>
<p>首部字段告诉服务器请求资源所处的互联网主机名和端口号。Host首部字段在HTTP/1.1中是唯一一个必须被包含在请求内的首部字段。</p>
<h4 id="if-Match"><a href="#if-Match" class="headerlink" title="if-Match"></a>if-Match</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">If-Match：<span class="hljs-number">12345</span></span><br><span class="line">If-Match：* (忽略ETag值，只要资源存在就处理请求)</span><br></pre></td></tr></table></figure>
<p>条件请求之一（If-xxx），服务器接收到附带条件的请求后，只有判断指定条件为真时，才会执行请求。只有当If-Match的字段值跟ETag值匹配一致时，服务器才会接受请求。</p>
<h4 id="if-Modified-Since"><a href="#if-Modified-Since" class="headerlink" title="if-Modified-Since"></a>if-Modified-Since</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">If-Modified-Since:Tue, <span class="hljs-number">08</span> Jan <span class="hljs-number">2013</span> <span class="hljs-number">08</span>:<span class="hljs-number">53</span>:<span class="hljs-number">29</span> GMT</span><br></pre></td></tr></table></figure>
<p>告知服务器，若if-Modified-Since的字段值早于资源的更新时间，则希望能处理该请求。如果在指定if-Modified-Since字段值的日期时间之后，资源都没有更新，则返回状态码304 Not Modify。</p>
<p>if-Modified-Since的时间 &lt; 资源更新的时间 = 返回新资源<br>否则资源未更新过则返回状态码304 Not Modify。</p>
<p>if-Modified-Since用于确认代理和客户端拥有的本地资源的有效性，获取资源的更新日期时间，可通过首部字段Last-Modified来确定。</p>
<h4 id="if-None-Match"><a href="#if-None-Match" class="headerlink" title="if-None-Match"></a>if-None-Match</h4><p>与If-Match作用相反，不匹配ETag值时才会接受请求。</p>
<h4 id="if-Range"><a href="#if-Range" class="headerlink" title="if-Range"></a>if-Range</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">If-Range:<span class="hljs-string">"123445"</span></span><br><span class="line">Range:bytes=<span class="hljs-number">5001</span><span class="hljs-number">-10000</span></span><br></pre></td></tr></table></figure>
<p>告知服务器若指定的If-Range字段值（Etag值或者时间）和请求资源的Etag值或时间相一致时，则作范围请求处理。反之，返回全体资源。</p>
<h4 id="if-Unmodified-Since"><a href="#if-Unmodified-Since" class="headerlink" title="if-Unmodified-Since"></a>if-Unmodified-Since</h4><p>与if-Modified-Since作用相反。</p>
<h4 id="Max-Forwards"><a href="#Max-Forwards" class="headerlink" title="Max-Forwards"></a>Max-Forwards</h4><p>以十进制整数形式指定可经过的服务器最大数目。当值为0时，则不再进行转发，必须直接返回响应。此值在跟踪通信过程时非常有用，比如要途径多个转发服务器时，转发失败，客户端就很难得到服务器返回的响应了，而且我们也不知道是哪个代理服务器出了问题，此时可以设定Max-Forwards值来初定了解传输路径的通信情况。需要注意的是该值没经过一个代理服务器自减1，如果值为0则不再转发，必须强制返回响应。</p>
<h4 id="Proxy-Authorization"><a href="#Proxy-Authorization" class="headerlink" title="Proxy-Authorization"></a>Proxy-Authorization</h4><p>接收到从代理服务器发来的认证质询时，客户端会发送包含首部字段Proxy-Authorization的请求，告知服务器认证所需要的信息。</p>
<h4 id="Range"><a href="#Range" class="headerlink" title="Range"></a>Range</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Range:bytes=<span class="hljs-number">5001</span><span class="hljs-number">-10000</span></span><br></pre></td></tr></table></figure>
<p>范围请求时告知服务器资源的指定范围。如果请求成功，则返回206状态码，无法处理该范围请求时，返回200及全部资源。</p>
<h4 id="TE"><a href="#TE" class="headerlink" title="TE"></a>TE</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TE:gzip,deflate;q=<span class="hljs-number">0.5</span></span><br></pre></td></tr></table></figure>
<p>告知服务器客户端能够处理响应的传输编码方式及相对优先级。和Accept-Encoding的功能很像，但是用于传输编码。</p>
<h4 id="User-Agent"><a href="#User-Agent" class="headerlink" title="User-Agent"></a>User-Agent</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User-Agent:Mozilla/<span class="hljs-number">5.0</span> (Macintosh; Intel Mac OS X <span class="hljs-number">10</span>_10_5) AppleWebKit/<span class="hljs-number">537.36</span> (KHTML, like Gecko) Chrome/<span class="hljs-number">50.0</span><span class="hljs-number">.2661</span><span class="hljs-number">.102</span> Safari/<span class="hljs-number">537.36</span></span><br></pre></td></tr></table></figure>
<p>告诉服务器创建请求的浏览器和用户代理的名称，中间可能会被添加上代理服务器的名称。</p>
<h3 id="HTTP-1-1响应首部字段"><a href="#HTTP-1-1响应首部字段" class="headerlink" title="HTTP/1.1响应首部字段"></a>HTTP/1.1响应首部字段</h3><h4 id="Accept-Ranges"><a href="#Accept-Ranges" class="headerlink" title="Accept-Ranges"></a>Accept-Ranges</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Accept-Ranges:bytes</span><br><span class="line">Accept-Ranges:none</span><br></pre></td></tr></table></figure>
<p>告诉客户端是否能处理范围请求，none指明不能处理，bytes指明处理成功。</p>
<h4 id="Age"><a href="#Age" class="headerlink" title="Age"></a>Age</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Age：<span class="hljs-number">600</span>（单位：秒）</span><br></pre></td></tr></table></figure>
<p>告诉客户端源服务器多久前创建了响应。</p>
<h4 id="ETag"><a href="#ETag" class="headerlink" title="ETag"></a>ETag</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ETag：<span class="hljs-string">"4324hkh23h4h34fdhs4732hfadsjk"</span></span><br></pre></td></tr></table></figure>
<p>ETag告知客户端实体标识，它是将资源以字符串形式做唯一性标识的方式，服务器会为每份资源分配对应的ETag值，资源更新时，ETag值也会更新。若在下载过程中出现连接中断、再连接的情况，都会按照ETag值来指定资源。</p>
<blockquote>
<p>提示：ETag值有强弱之分。</p>
</blockquote>
<h4 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Location：http:<span class="hljs-comment">//www.ziyi2.cn/index.html</span></span><br></pre></td></tr></table></figure>
<p>可以将响应接收方引导至某个与请求URI位置不同的资源。该字段会配合3xx：Redirection的响应，提供重定向URI。即服务器端如果将需要访问的资源转移到一个新的URI后，客户端发起请求，服务器就会返回一个带Location字段的响应通知客户端重定向到新的URI，通常客户端在接收到这个字段时都会强制性的尝试对已提示的重定向资源进行访问。</p>
<h4 id="Proxy-Authorizaticate"><a href="#Proxy-Authorizaticate" class="headerlink" title="Proxy-Authorizaticate"></a>Proxy-Authorizaticate</h4><p>注意与请求响应的首部字段名Proxy-Authorization是配合起来使用的，该字段是会把代理服务器要求的认证信息发送给客户端。</p>
<h4 id="Retry-After"><a href="#Retry-After" class="headerlink" title="Retry-After"></a>Retry-After</h4><p>告诉客户端多久之后再次发送请求。可以具体指定日期或者创建响应后的秒数。</p>
<h4 id="Server"><a href="#Server" class="headerlink" title="Server"></a>Server</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Server:Apache/<span class="hljs-number">2.2</span><span class="hljs-number">.17</span>(Unix)</span><br></pre></td></tr></table></figure>
<p>告知客户端当前服务器上安装的HTTP服务器应用程序的信息。可能还会标出服务器的版本号和安装时启动的可选项。</p>
<h4 id="Vary"><a href="#Vary" class="headerlink" title="Vary"></a>Vary</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vary:Accept-Encoding,User-Agent</span><br></pre></td></tr></table></figure>
<p>对缓存进行控制，源服务器向代理服务器传达关于本地缓存使用方法的命令就是Vary字段，当客户端发起请求时，只对Vary指定的请求首部相同的HTTP请求（HTTP请求报文中的对应首部字段名和字段值和Vary中指定的一样），才会返回缓存。如果不同，那么将从源服务器重新获取资源。</p>
<h4 id="WWW-Authenticate"><a href="#WWW-Authenticate" class="headerlink" title="WWW-Authenticate"></a>WWW-Authenticate</h4><p>用于HTTP访问认证。会告诉客户端适用于访问请求URI所指定资源的认证方案（Basic或Digest）。</p>
<h3 id="HTTP-1-1实体首部字段"><a href="#HTTP-1-1实体首部字段" class="headerlink" title="HTTP/1.1实体首部字段"></a>HTTP/1.1实体首部字段</h3><p>请求实体和响应实体都会含有一些信息，所以在请求报文和响应报文要加入相关实体部分信息的首部字段。</p>
<h4 id="Allow"><a href="#Allow" class="headerlink" title="Allow"></a>Allow</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Allow:GET,HEAD</span><br></pre></td></tr></table></figure>
<p>用于通知客户端能够支持Request URL指定资源的所有Request Method方法（HTTP请求方法）。如果服务器接收都不支持的HTTP方法，会以状态码405 Method Not Allowed作为响应返回，还会把所有支持的方法写入Allow首部字段返回。</p>
<h4 id="Content-Encoding"><a href="#Content-Encoding" class="headerlink" title="Content-Encoding"></a>Content-Encoding</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Encoding:gzip</span><br></pre></td></tr></table></figure>
<p>告知服务器对实体的主体部分选用的内容编码方式。</p>
<h4 id="Content-Language"><a href="#Content-Language" class="headerlink" title="Content-Language"></a>Content-Language</h4><p>告知客户端实体主体使用的自然语言。</p>
<h4 id="Content-Length"><a href="#Content-Length" class="headerlink" title="Content-Length"></a>Content-Length</h4><p>实体主体部分的大小（单位是Byte）。</p>
<h4 id="Content-Location"><a href="#Content-Location" class="headerlink" title="Content-Location"></a>Content-Location</h4><p>报文主体返回资源相对应的URI。</p>
<h4 id="Content-MD5"><a href="#Content-MD5" class="headerlink" title="Content-MD5"></a>Content-MD5</h4><p>服务器端返回资源时，会对报文主体进行MD5算法，接着进行Base64编码，客户端会对接收到的报文主体进行同样的算法，从而得出一个128bit的二进制数，如果该数一样，则表明报文主体传输过程完整。其实起到的是一个校验的作用。</p>
<h4 id="Content-Range"><a href="#Content-Range" class="headerlink" title="Content-Range"></a>Content-Range</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Range:bytes <span class="hljs-number">5001</span><span class="hljs-number">-10000</span>/<span class="hljs-number">10000</span></span><br></pre></td></tr></table></figure>
<p>针对范围请求，返回资源时告诉客户端作为响应返回的实体的哪个部分符合范围请求。</p>
<h4 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Type:text/css; charset=utf<span class="hljs-number">-8</span></span><br></pre></td></tr></table></figure>
<p>说明实体主体对象的媒体类型。</p>
<h4 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h4><p>将资源失效的日期告知客户端。缓存服务器接收到含有该字段的响应后，会缓存来应答请求，在Expires指定的时间之前，响应的副本会一直被保存，超过指定的时间后，缓存服务器在请求发送过来时，会转向源服务器请求资源。</p>
<h4 id="Last-Modified"><a href="#Last-Modified" class="headerlink" title="Last-Modified"></a>Last-Modified</h4><p>指明资源最终修改的时间，指定的是Request URL指定资源被修改的时间。</p>
<h3 id="为Cookie服务的首部字段"><a href="#为Cookie服务的首部字段" class="headerlink" title="为Cookie服务的首部字段"></a>为Cookie服务的首部字段</h3><p>Cookie的工作机制是用户识别及状态管理。调用Cookie时可校验有效期、发送方的域、路径、协议等信息，所以正规发布的Cookie内的数据不会因来自其他Web站点和攻击者的攻击而泄露。</p>
<table>
<thead>
<tr>
<th style="text-align:left">首部字段名</th>
<th style="text-align:right">说明</th>
<th style="text-align:center">首部类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Set-Cookie</td>
<td style="text-align:right">开始状态管理所使用的cookie信息</td>
<td style="text-align:center">响应首部字段</td>
</tr>
<tr>
<td style="text-align:left">Cookie</td>
<td style="text-align:right">从服务器接收到的Cookie</td>
<td style="text-align:center">请求首部字段</td>
</tr>
</tbody>
</table>
<h4 id="Set-Cookie"><a href="#Set-Cookie" class="headerlink" title="Set-Cookie"></a>Set-Cookie</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">Set</span>-Cookie:BDSVRTM=<span class="hljs-number">123</span>; path=<span class="hljs-regexp">/</span></span><br><span class="line"><span class="hljs-regexp">Set-Cookie:H_PS_PSSID=18286_1466_20317_18280_20368_20389_19690_18134_17001_15371_11521; path=/</span>; domain=.baidu.com</span><br><span class="line"><span class="hljs-built_in">Set</span>-Cookie:__bsi=<span class="hljs-number">17382622087912227414</span>_00_8_N_N_125_0303_C02F_N_N_Y_0; expires=Thu, <span class="hljs-number">23</span>-Jun<span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">32</span>:<span class="hljs-number">01</span> GMT; domain=www.baidu.com; path=<span class="hljs-regexp">/</span></span><br><span class="line"><span class="hljs-regexp">Set-Cookie:BD_HOME=1; path=/</span></span><br></pre></td></tr></table></figure>
<p>当服务器准备开始管理客户端的状态时，会事先告知各种信息。</p>
<table>
<thead>
<tr>
<th style="text-align:left">属性</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">NAME=VALUE</td>
<td style="text-align:left">赋予Cookie的名称和其值（必需项）</td>
</tr>
<tr>
<td style="text-align:left">expires = DATE</td>
<td style="text-align:left">Cookie的有效期（若不明确指定则默认为浏览器关闭前为止）</td>
</tr>
<tr>
<td style="text-align:left">path = PATH</td>
<td style="text-align:left">将服务器上的文件目录作为Cookie的适用对象（不指定则默认在文档所在的文件目录）</td>
</tr>
<tr>
<td style="text-align:left">domain = 域名</td>
<td style="text-align:left">作为Cookie适用对象的域名（若不指定则默认为创建Cookie的服务器域名）</td>
</tr>
<tr>
<td style="text-align:left">Secure</td>
<td style="text-align:left">仅在HTTPS安全通信时才会发送Cookie</td>
</tr>
<tr>
<td style="text-align:left">HttpOnly</td>
<td style="text-align:left">加以限制，使Cookie不能被JavaScript脚本访问</td>
</tr>
</tbody>
</table>
<h5 id="expires属性"><a href="#expires属性" class="headerlink" title="expires属性"></a>expires属性</h5><p>指定浏览器可发送的Cookie的有效期。当省略expires属性时，其有效期仅限于维持浏览器会话（Session）时间段内。通常限于浏览器应用程序被关闭之前。一旦Cookie从服务器送至客户端，服务器端就不存在可以显示删除Cookie的方法了，但是可通过覆盖过期的Cookie实现对客户端Cookie的实质性删除操作。</p>
<h5 id="path属性"><a href="#path属性" class="headerlink" title="path属性"></a>path属性</h5><p>Cookie的path属性可用于限定指定Cookie的发送范围的文件目录。不过有办法避开这项限制。</p>
<h5 id="domain属性"><a href="#domain属性" class="headerlink" title="domain属性"></a>domain属性</h5><p>通过Cookie的domain属性指定的域名可做到与结尾匹配一致，比如，指定example.com后，除了example.com外，<a href="http://www.example.com和www2.example.com都可以发送Cookie。除非针对指定的多个域名发送Cookie之外，不指定domain更为安全。" target="_blank" rel="noopener">www.example.com和www2.example.com都可以发送Cookie。除非针对指定的多个域名发送Cookie之外，不指定domain更为安全。</a></p>
<h5 id="secure属性"><a href="#secure属性" class="headerlink" title="secure属性"></a>secure属性</h5><p>用于限制Web页面仅在HTTPS安全连接时，才可以发送Cookie。使用方法如下：</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">Set</span>-Cookie:BDSVRTM=<span class="hljs-number">123</span>; path=<span class="hljs-regexp">/; secure</span></span><br></pre></td></tr></table></figure>
<p>以上例子只在<a href="https://www.example.com/（HTTPS）安全连接的情况下才会进行Cookie的回收。即使域名相同，http://www.example.com/也不会发生Cookie回收行为。省略该参数，HTTP和HTTPS都可以进行回收。" target="_blank" rel="noopener">https://www.example.com/（HTTPS）安全连接的情况下才会进行Cookie的回收。即使域名相同，http://www.example.com/也不会发生Cookie回收行为。省略该参数，HTTP和HTTPS都可以进行回收。</a></p>
<h5 id="HttpOnly属性"><a href="#HttpOnly属性" class="headerlink" title="HttpOnly属性"></a>HttpOnly属性</h5><p>该属性是Cookie的扩展功能，使JavaScript脚本无法获得Cookie。主要目的是为了防止跨站脚本攻击（Cross-site scripting，XSS）对Cookie信息的获取。指定方法如下：</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">Set</span>-Cookie:BDSVRTM=<span class="hljs-number">123</span>; path=<span class="hljs-regexp">/; HttpOnly</span></span><br></pre></td></tr></table></figure>
<p>通过以上设置，通常从Web页面还可以对Cookie进行读取操作，但是使用JavaScript的document.cookie就无法读取附加该属性后的Cookie内容了。所以在无法再XSS中利用JavaScript劫持Cookie。</p>
<h4 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h4><p>告知服务器，客户端想要获得HTTP状体管理支持时，就会在请求中包含从服务器接收到的Cookie，接收到多个，就可以以多个的形式发送。</p>
<h3 id="其他首部字段"><a href="#其他首部字段" class="headerlink" title="其他首部字段"></a>其他首部字段</h3><p>HTTP首部字段是可以自行扩展的，所以在Web服务器和浏览器的应用上会出现各种非标准的首部字段。</p>
<h4 id="X-Frame-Options"><a href="#X-Frame-Options" class="headerlink" title="X-Frame-Options"></a>X-Frame-Options</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Frame-Options:DENY</span><br></pre></td></tr></table></figure>
<p>属于响应首部，控制网站内容在其他Web网站的Frame标签内的显示问题。目的是为了防止点击劫持攻击。</p>
<ul>
<li>DENY：拒绝</li>
<li>SAMEORIGIN：仅在同源域名下的页面匹配时许可（比如<a href="http://hackr.jp/sameple.html页面为SAMEORIGIN时，那么hackr.jp上所有页面的frame都被允许可加载该页面，而example.com等其他域名就不被允许了）。" target="_blank" rel="noopener">http://hackr.jp/sameple.html页面为SAMEORIGIN时，那么hackr.jp上所有页面的frame都被允许可加载该页面，而example.com等其他域名就不被允许了）。</a></li>
</ul>
<p>并不是所有浏览器都支持该首部，当然主流的浏览器一般都能支持。</p>
<blockquote>
<p>提示：一般在HTTP协议中，给非标准参数加上前缀X-，用来区别标准参数。</p>
</blockquote>
<h4 id="X-XSS-Protection"><a href="#X-XSS-Protection" class="headerlink" title="X-XSS-Protection"></a>X-XSS-Protection</h4><p>属于响应首部，这对跨站脚本攻击（XSS）的一种策略，用于控制浏览器XSS防护机制的开关。</p>
<ul>
<li>0：将XSS过滤设置成无效状态</li>
<li>1：将XSS过滤设置成有效状态</li>
</ul>
<h4 id="DNT"><a href="#DNT" class="headerlink" title="DNT"></a>DNT</h4><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DNT：<span class="hljs-number">1</span></span><br></pre></td></tr></table></figure>
<p>HTTP请求首部，意思是Do Not Track，拒绝个人信息被收集，表示拒绝被精准广告追踪的一种方法。</p>
<ul>
<li>0：同意被追踪</li>
<li>1：拒绝被追踪</li>
</ul>
<h2 id="确保Web安全的HTTPS"><a href="#确保Web安全的HTTPS" class="headerlink" title="确保Web安全的HTTPS"></a>确保Web安全的HTTPS</h2><p>在HTTP协议中有可能存在信息窃听或身份伪装等安全问题，使用HTTPS通信机制可以有效的防止这类问题。</p>
<h3 id="HTTP缺点"><a href="#HTTP缺点" class="headerlink" title="HTTP缺点"></a>HTTP缺点</h3><ul>
<li>通信使用明文（不加密），内容可能被窃取</li>
<li>不验证通信身份，容易遭遇伪装</li>
<li>无法证明报文的完整性，可能遭篡改</li>
</ul>
<h4 id="通信使用明文"><a href="#通信使用明文" class="headerlink" title="通信使用明文"></a>通信使用明文</h4><p>HTTP报文使用明文（通信的请求和响应的内容未经过加密处理）方式发送。</p>
<h5 id="TCP-IP是可能被窃听的网络"><a href="#TCP-IP是可能被窃听的网络" class="headerlink" title="TCP/IP是可能被窃听的网络"></a>TCP/IP是可能被窃听的网络</h5><p>互联网上的任何角落都存在通信内容被窃听的风险，包括客户端、代理服务器、互联网和源服务器等。只要收集来互联网上流动的数据帧就可以了，这些工作可以通过抓包（Packet Capture）嗅探器（Sniffer）工具，例如抓包工具（ Wireshark）。例如查看发送的请求和返回的响应，以及响应报文的全部内容等一系列事情都可以做到。</p>
<h5 id="加密处理防止被窃听"><a href="#加密处理防止被窃听" class="headerlink" title="加密处理防止被窃听"></a>加密处理防止被窃听</h5><ul>
<li>通信的加密<br>HTTP协议本身没有加密机制，可以使用SSL（Secure Socket Layer，安全套接层）或TLS（Transport Layer Security，安全传输层协议）的组合使用，加密通信内容。用SSL建立安全通信线路之后，就可以在这条线路上进行HTTP通信了。使用SSL组合使用HTTP被称为HTTPS（HTTP Secure，超文本传输安全协议）或HTTP over SSL。</li>
<li>内容的加密<br>对传输的HTTP报文中的内容主体加密（不对报文首部加密）。为了做到内容加密，客户端和服务器需要同时具备加密和解密机制。但是不同于SSL或TLS将整个通信线路加密处理，内容仍然有被篡改的风险。<h5 id="不验证通信身份"><a href="#不验证通信身份" class="headerlink" title="不验证通信身份"></a>不验证通信身份</h5></li>
</ul>
<p>HTTP协议中的请求和响应不会对通信方进行确认，不验证请求的客户端和返回响应的服务器。</p>
<ul>
<li><p>任何人都可以发起请求<br>HTTP协议的实现本身非常简单，不论是谁发送过来的请求都会返回响应（当然前提是发送端的IP地址和端口号没有被Web服务器设定限制访问的前提下）。</p>
</li>
<li><p>无法确认请求的那台服务器是否是伪装的Web服务器。</p>
</li>
<li><p>无法确认返回响应的客户端是否是伪装的客户端。</p>
</li>
<li>无法判定请求是谁。</li>
<li>无意义的请求也会照单全收，无法阻止海量请求下的Dos攻击（Denial Of Service，拒绝服务攻击）。</li>
<li>查明对手的证书</li>
</ul>
<p>使用SSL则可以确定通信方。SSL不仅提供加密处理，还使用了证书手段，用于确定方。证书由第三方机构颁发，难以伪造，通过使用证书，客户端可以完成个人身份的确认，也可用于对Web网站的认证环节。</p>
<h5 id="无法证明报文的完整性"><a href="#无法证明报文的完整性" class="headerlink" title="无法证明报文的完整性"></a>无法证明报文的完整性</h5><p>即无法确认报文信息的准确度。</p>
<ul>
<li>接收到的内容可能有误<br>无法确认发出的请求和接收到的响应是前后一致的，比如从服务器下载文件，在响应过程的中途可能遭到篡改，而使得下载的文件是篡改后的文件而不是原来需要的源服务器上的文件。这种在传输中途遭到攻击拦截并篡改内容的攻击称为中间人攻击（Man-in-the-Middle attack，MITM）。</li>
<li>防止篡改<br>有确定报文完整性的方法，例如使用MD5和SHA-1等散列值校验方法，以及提供文件下载服务的Web网站也会提供相应的PGP（Pretty Good Privacy，完美隐私）创建数字签名和MD5算法生成散列值，但是算法本身也有可能被篡改，用户是意识不到的，所以HTTP本身很难确保报文的完整性，有必要使用HTTPS，毕竟SSL提供认证和加密处理功能。</li>
</ul>
<h3 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h3><h4 id="HTTP-加密-认证-完整性保护"><a href="#HTTP-加密-认证-完整性保护" class="headerlink" title="HTTP + 加密 + 认证 + 完整性保护"></a>HTTP + 加密 + 认证 + 完整性保护</h4><p>HTTP协议中使用未经过机密的明文，比如在Web页面中输入信用卡号，如果通信线路遭到窃听，那么信用卡号就暴露了！另外，HTTP协议无法确认通信方，无论是客户端还是服务器，所以需要使用在HTTP基础上添加加密及认证机制的HTTP（HTTP Secure， HTTPS）。使用HTTPS通信时，使用的是https://而不是http://（通常会在登录页面和购物车结算页面使用）。</p>
<h4 id="HTTP-披上外壳SSL"><a href="#HTTP-披上外壳SSL" class="headerlink" title="HTTP 披上外壳SSL"></a>HTTP 披上外壳SSL</h4><p>HTTPS并非是应用层的一种新协议。只是HTTP通信接口部分用SSL和TLS协议代替而已。应用层HTTP通常一般直接和传输层的TCP通信，而HTTPS则是使应用层HTTP先和SSL通信，再由SSL和TCP通信。</p>
<p>HTTP</p>
<ul>
<li>应用层 HTTP</li>
<li>传输层 TCP</li>
<li>网络层 IP</li>
</ul>
<p>HTTPS</p>
<ul>
<li>应用层HTTP</li>
<li>表示层SSL</li>
<li>传输层TCP</li>
<li>网络层IP</li>
</ul>
<p>SSL是独立于HTTP的协议，与其他协议也可以配合使用的，可以说SSL是目前使用最广泛的网络安全技术。</p>
<h4 id="加密技术"><a href="#加密技术" class="headerlink" title="加密技术"></a>加密技术</h4><p>SSL采用一种公开密钥加密的加密处理方式。加密和解密都会用到密钥，没有密钥就无法对密码解密。</p>
<ul>
<li>共享秘钥加密<br>加密和解密同用一个秘钥的方法称为共享秘钥加密或者对称秘钥加密。这种方法需要把秘钥发送给对方，比如客户端需要和服务器通信加密，需要把秘钥发送给服务器（毕竟用同一个秘钥嘛），转发秘钥时如果通信被监听秘钥就会被攻击者获取。</li>
<li>使用两把秘钥的公开秘钥加密<br>公开秘钥加密使用一对非对称的秘钥，一把叫做私有秘钥，一把叫做公开秘钥。私有秘钥不能让任何人知道，公开秘钥任意人都可以获取。发送密文的一方使用对方发送过来的公开秘钥进行加密处理（比如要实现加密，服务器先给客户端发送一个公开秘钥），对方接收到加密后的信息时，再使用自己的配套公开秘钥的私密秘钥进行解密（客户端发送了按照公开秘钥加密的报文，服务器使用对应的私有秘钥进行解密工作）。这种方式根本不需要担心公开秘钥被窃听。同时根据公开秘钥和密文对信息原文进行解密也是异常困难的。</li>
<li>HTTPS采用混合加密机制<br>HTTPS采用共享秘钥加密和公开秘钥加密混合使用加密机制。因为后者与前者相比，处理速度要慢，所以在能够实现安全通信的情况下，使用共享秘钥加密。</li>
<li>使用公开秘钥加密的机制传送稍后需要用到的共享秘钥加密的秘钥。</li>
<li>建立通信后交换报文阶段则使用共享秘钥加密方式。</li>
</ul>
<h4 id="证明公开秘钥正确性的证书"><a href="#证明公开秘钥正确性的证书" class="headerlink" title="证明公开秘钥正确性的证书"></a>证明公开秘钥正确性的证书</h4><p>怎么证明公开秘钥本身又是货真价实的公开秘钥呢？例如如何证明客户端接收到的公开秘钥是对应的服务器发行的公开秘钥？因为公开秘钥也容易被攻击者劫持啊。此时可以使用数字证书认证机构（CA，Certificate Authority）和其相关机关颁发的公开秘钥证书。需要注意的是数字证书认证机构是需要客户端和服务器双方都可信任的第三方机构。</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/18ca.png" alt="Alt text"></p>
<blockquote>
<p>提示：注意区分机构的私有秘钥和服务器的公有秘钥，机构的私有秘钥用来加密数字签名，服务器的公有秘钥最终是为了进行和客户端通信时可以使用公开秘钥加密的加密机制。公钥证书包含服务器提交的公开秘钥和数字证书机构认证的数字签名。</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/19ca2.png" alt="Alt text"></p>
<p>验证服务器公开秘钥的正确性：客户端拿到公钥证书后，使用数字证书认证机构的公开秘钥对数字签名进行解密，验证服务器公开秘钥的真实性，如果正确，则使用服务器提出的公开秘钥对报文进行加密传输。<br>解密过程：接收到客户端发送的加密报文后，使用服务器对应的私有秘钥进行解密操作。</p>
<table>
<thead>
<tr>
<th style="text-align:left">秘钥类型</th>
<th style="text-align:left">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">服务器公开秘钥</td>
<td style="text-align:left">通信时加密用</td>
</tr>
<tr>
<td style="text-align:left">服务器私有秘钥</td>
<td style="text-align:left">通信时解密用</td>
</tr>
<tr>
<td style="text-align:left">认证机关的私有秘钥</td>
<td style="text-align:left">向服务器提交的公开秘钥部署数字签名</td>
</tr>
<tr>
<td style="text-align:left">认证机关的公开秘钥</td>
<td style="text-align:left">在客户端验证服务器公开秘钥的正确性</td>
</tr>
</tbody>
</table>
<blockquote>
<p>提示：认证机关的公开秘钥必须安全的转交给客户端，通常多数浏览器开发商发布版本时，事先在内部植入常用认证机关的公开秘钥。</p>
</blockquote>
<ul>
<li><p>可证明组织真实性的EV SSL证书<br>EV SSL证书严格规定了对运营组织是否真实的确认方针，可以防止用户被钓鱼攻击。</p>
</li>
<li><p>用以确认客户端的客户端证书<br>HTTPS还可以使用客户端证书。以客户端证书进行客户端认证。例如银行的网上银行就是采用客户端证书，在登录网银时不仅要求用户确认输入的ID和密码，还会要求用户的客户端证书，以确认用户是否从特定的终端访问网银。</p>
</li>
<li><p>认证机构信誉第一<br>如果认证结构被黑，那么SSL的可信度？</p>
</li>
<li>由自认证机构颁发的证书称为自签名证书<br>该证书容易被认定是伪造的证书，没有什么大用？<h4 id="HTTPS的安全通信机制"><a href="#HTTPS的安全通信机制" class="headerlink" title="HTTPS的安全通信机制"></a>HTTPS的安全通信机制</h4></li>
</ul>
<p>HTTPS通信步骤</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/20chat.png" alt="Alt text"></p>
<blockquote>
<p>提示: master Secret是报文校验码的秘钥。</p>
</blockquote>
<ul>
<li>SSL和TLS<br>HTTPS使用SSL和TLS这两个协议。SSL最初由浏览器开发商网景通信公司率先倡导的。TLS则是以SSL为原型（SSL3.0为基准）开发的协议。有时统一称该协议为SSL。</li>
<li>SSL速度慢<br>HTTPS使用SSL时，处理速度会变慢。因为需要做服务器、客户端双方的加密和解密处理，会消耗CPU和内存等硬件资源。和HTTP通信相比，SSL通信又在TCP通信之上建立了一层握手通信，消耗网络资源，时间上延长了。和HTTP通信相比，网络负载可能会慢2-100倍。解决办法是可以使用SSL加速器（专用服务器）硬件来提高SSL的计算速度。<h3 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h3></li>
</ul>
<p>为什么不一直使用HTTPS通信呢？一方面是某些信息并不敏感，例如网页的呈现等，可以使用HTTP通信，并且加载速度比HTTPS也要快（网络负载更少），只有在获取和提交某些敏感信息时才需要使用HTTPS通信。</p>
<h2 id="确认访问用户的认证"><a href="#确认访问用户的认证" class="headerlink" title="确认访问用户的认证"></a>确认访问用户的认证</h2><p>某些Web页面只想让特定的人浏览，比如网上银行，或者干脆仅本人可见。为达到这个目的，必不可少的就是认证功能。</p>
<h3 id="何为认证"><a href="#何为认证" class="headerlink" title="何为认证"></a>何为认证</h3><p>计算机本身无法判断坐在显示器前的使用者的身份。为了知道谁在访问服务器，需要让客户端自报家门，通常核对客户端身份的信息有如下几种：</p>
<ul>
<li>密码</li>
<li>动态令牌</li>
<li>数字证书</li>
<li>生物认证</li>
<li>IC卡等</li>
</ul>
<h4 id="HTTP的认证方式"><a href="#HTTP的认证方式" class="headerlink" title="HTTP的认证方式"></a>HTTP的认证方式</h4><p>HTTP/1.1使用的认证方式如下所示：</p>
<ul>
<li>BASIC认证（基本认证）</li>
<li>DIGEST认证（摘要认证）</li>
<li>SSL客户端认证</li>
<li>FormBase认证（基于表单认证）</li>
</ul>
<h3 id="BASIC认证"><a href="#BASIC认证" class="headerlink" title="BASIC认证"></a>BASIC认证</h3><p>BASIC认证（基本认证）是从HTTP/1.0就定义的认证方式。Web服务器与通信客户端之间进行的认证方式。</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/21basic.png" alt="Alt text"></p>
<blockquote>
<p>提示：401 Authorization Required首部字段值还包含了认证方式BASIC。</p>
</blockquote>
<p>BASIC认证虽然采用Base64编码方式，但仍然是不加密处理的，在HTTP等非加密通信的线路上进行BASIC认证的过程中，很容易被人窃听。所以BASIC认证的安全性还不够高。</p>
<h3 id="DIGEST认证"><a href="#DIGEST认证" class="headerlink" title="DIGEST认证"></a>DIGEST认证</h3><p>为了弥补BASIC认证存在的弱点，从HTTP/1.1起就有了DIGEST认证。该认证同样使用质询/响应的方式，但不会像BASIC认证那样直接发送明文密码。</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/22digest.png" alt="Alt text"></p>
<h3 id="SSL客户端认证"><a href="#SSL客户端认证" class="headerlink" title="SSL客户端认证"></a>SSL客户端认证</h3><p>从使用用户ID和密码的认证方式方面来讲，只要二者内容正确一致，就可认证是本人操作，但是如果用户的账号和密码被窃取，很有可能是第三者冒充。利用SSL客户端认证则可以避免这个情况。SSL客户端认证是由HTTPS的客户端证书完成认证的方式。凭借客户端证书认证，服务器可确认访问是否来自已登录的客户端。</p>
<h4 id="客户端认证步骤"><a href="#客户端认证步骤" class="headerlink" title="客户端认证步骤"></a>客户端认证步骤</h4><p>步骤一：接收认证资源的请求，服务器发送Certificate Request报文，要求客户端提供客户端证书。<br>步骤二：用户选择将发送的客户端证书后，客户端会把客户端证书信息以Client Certificate报文方式发送给服务器。<br>步骤三：服务器验证客户端证书验证通过后可领取证书内客户端的公开秘钥，然后开始HTTPS加密通信。</p>
<blockquote>
<p>提示： 为了进行SSL客户端认证，需要事先安装客户端证书。</p>
</blockquote>
<h4 id="SSL客户端认证采用双因素认证"><a href="#SSL客户端认证采用双因素认证" class="headerlink" title="SSL客户端认证采用双因素认证"></a>SSL客户端认证采用双因素认证</h4><p>SSL客户端认证不仅依靠证书完成认证，还会和基于表单认证组合形成一种双因素认证。第一个认证因素是SSL客户端证书用来认证客户端计算机，第二个认证因素的密码来确定是用户本人的行为。</p>
<h3 id="基于表单认证"><a href="#基于表单认证" class="headerlink" title="基于表单认证"></a>基于表单认证</h3><p>基于表单的认证方法并不是HTTP协议中定义的。客户端会向服务器上的Web应用程序发送登录信息，按登录信息的验证结果认证。</p>
<h4 id="认证多半是基于表单认证"><a href="#认证多半是基于表单认证" class="headerlink" title="认证多半是基于表单认证"></a>认证多半是基于表单认证</h4><p>BASIC认证和DIGEST认证因为使用上的便利性和安全性几乎不怎么使用，基于SSL的客户端认证虽然具有高度的安全性，但因为导入及维持费用等问题，还尚未普及。对于Web网站认证功能，能够满足其安全使用级别的标准规范并不存在，所以只好使用由Web应用程序各自实现基于表单的认证方式。</p>
<h3 id="Session管理及Cookie应用"><a href="#Session管理及Cookie应用" class="headerlink" title="Session管理及Cookie应用"></a>Session管理及Cookie应用</h3><p>基于表单认证的标准规范尚未有定论，一般会使用Cookie来管理Session。基于表单认证本身是通过服务器端的Web应用，将客户端发送过来的用户ID和密码与之前登陆过的信息做匹配来进行认证的。但是HTTP是无状态协议，之前已认证成功的用户状态无法通过协议层面保存下来，HTTP无法实现状态管理。因此即使当该用户的下一次继续访问，也无法区分他与其他用户。于是我们会使用Cookie来管理Session，以弥补HTTP协议中不存在的状态管理功能。</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/23session.png" alt="Alt text"></p>
<p>步骤一：客户端把自己的ID和密码等登录信息收入报文的实体部分，通常是以POST方法把请求发送给服务器。这时会使用HTTPS通信来进行HTML表单画面的显示和用户输入数据的发送。<br>步骤二：服务器会发放用以识别用户的Session ID。通过验证客户端发送过来的账号和密码，然后把用户的认证状态与Session ID绑定后记录在服务器端。向客户端返回响应时，会在首部字段Set-Cookie内写入Session ID（如Set-Cookie:PHPSESSID=028a8c…）。可以把Session ID想象成用以区分不同用户的等位号，然而如果Session ID被第三方盗走，对方就可以伪装成你的身份进行操作了，因此必须防止Session ID被盗，或被猜出。一般Session ID使用难以推测的字符串，且服务器端也需要进行有效期的管理，保证其安全性。另外为减轻跨站脚本攻击（XSS），建议事先给Cookie加上httponly属性。<br>步骤三：客户端接收到从服务器端发来的Session ID后，会将其作为Cookie保存在本地。下次向服务器发送请求时，浏览器会自动发送Cookie，所以Session ID随之发送到服务器，服务器可通过验证接收到的Session ID识别用户和其认证状态。</p>
<p>不仅表单认证的登录信息及认证过程没有标准化的方案，服务器端应如何保存用户提交的密码等登录信息也没有被标准化。通常一种安全的保存密码方法是先利用密码加盐（salt）的方式增加额外信息，在使用散列值（hash）函数计算出散列值后保存，而不要直接保存明文密码，容易导致密码泄露。</p>
<blockquote>
<p>提示：加盐就是由服务器随机生成一个字符串，长度足够长，并且是真正随机生成的，把它和密码字符串相连接（前后都可以）生成散列值。当两个用户使用了同一个密码时，由于随机生成的salt值不同，对应的散列值也将是不同的，很大程度上减少了密码特征，攻击者也很难破解。</p>
</blockquote>
<h2 id="基于HTTP的功能追加协议"><a href="#基于HTTP的功能追加协议" class="headerlink" title="基于HTTP的功能追加协议"></a>基于HTTP的功能追加协议</h2><p>随着互联网的快速发展，HTTP协议在功能上已经捉襟见肘，本章讲解基于HTTP新增功能的协议。</p>
<h3 id="SPDY"><a href="#SPDY" class="headerlink" title="SPDY"></a>SPDY</h3><p>Google在2010年发布了SPDY（取自SPeeDY，发音同speedy），目标旨在解决HTTP性能瓶颈，缩短Web页面的加载时间（50%）。</p>
<h4 id="HTTP瓶颈"><a href="#HTTP瓶颈" class="headerlink" title="HTTP瓶颈"></a>HTTP瓶颈</h4><p>一条连接只能发送一个请求<br>请求只能从客户端开始，客户端不可以接收除响应以外的指令<br>请求/响应首部未经过压缩就发送，首部信息越多延迟越大<br>发送冗长的首部，每次发送相同的首部造成浪费颇多<br>可任意选择数据压缩格式，非强制压缩发送</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/24pj.png" alt="Alt text"></p>
<h5 id="Ajax解决方法"><a href="#Ajax解决方法" class="headerlink" title="Ajax解决方法"></a>Ajax解决方法</h5><p>Ajax（Asynchronous JavaScript and XML，异步JavaScript与XML技术）是一种有效利用JavaScript和DOM（Document Object Model，文档对象模型）的操作，以达到局部Web页面替换加载的异步通信手段。由于更新一部分页面而不是全部页面，响应中传输的数据量会少很多，优点显而易见。Ajax的核心技术是名为XMLHttpRequest的API，通过JavaScript脚本语言的调用就能和服务器进行HTTP通信，从而能从加载完毕的Web页面发起请求，只更新局部页面。<br>利用Ajax实时的从服务器获取内容，有可能导致大量的请求产生，另外Ajax仍未解决HTTP协议本身存在的问题。</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/25ajax.png" alt="Alt text"></p>
<h5 id="Comet解决方法"><a href="#Comet解决方法" class="headerlink" title="Comet解决方法"></a>Comet解决方法</h5><p>一旦服务器有内容更新，Comet不会让请求等待，而是直接给客户端返回响应。通过延迟应答，模拟实现服务器端向客户端推送的功能。 通常服务器端接收到请求，在处理完毕后会立即返回响应，但为了实现推送功能，Comet会先将响应置于挂起状态，当服务器端有内容更新时，再返回该响应。因此一旦服务器端有更新，就可以立即反馈给客户端。内容上虽然能够做到实时更新，但是为了保留响应，一次连接的持续时间也变长了，为了维持连接会消耗更多的资源，另外Comet仍未解决HTTP协议本身存在的问题。</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/26comet.png" alt="Alt text"></p>
<h5 id="SPDY目标"><a href="#SPDY目标" class="headerlink" title="SPDY目标"></a>SPDY目标</h5><p>陆续出现的Ajax和Comet等提高易用性的技术，使HTTP得到了部分改善，但HTTP协议本身的限制仍然未解决，SPDY协议正在HTTP协议层面进行持续开发，为了消除HTTP瓶颈。</p>
<h4 id="SPDY设计与功能"><a href="#SPDY设计与功能" class="headerlink" title="SPDY设计与功能"></a>SPDY设计与功能</h4><ul>
<li>应用层HTTP</li>
<li>会话层SPDY</li>
<li>表示层SSL</li>
<li>传输层TCP</li>
</ul>
<p>SPDY在HTTPS的基础上新增了会话层，仍然采用HTTP建立通信连接，可照常使用HTTP的GET和POST等方法，Cookie以及HTTP报文等。使用SPDY后，HTTP协议额外获得功能：</p>
<ul>
<li>多路复用流<br>通过单一的TCP连接，可以无限制处理多个HTTP请求，所有请求的处理都在一条TCP连接上完成，TCP处理效率得到提高。</li>
<li>赋予请求优先级<br>可以为请求分配优先级顺序，在发送多个请求时，解决因宽带而导致响应变慢的问题。</li>
<li>压缩HTTP首部</li>
<li>推送功能<br>Comet技术支持服务器主动向客户端推送数据。</li>
<li>服务器提示功能</li>
</ul>
<h4 id="SPDY性能"><a href="#SPDY性能" class="headerlink" title="SPDY性能"></a>SPDY性能</h4><p>SPDY只是将单个域名（IP地址）的通信多路复用，在Web网站使用多个域名下的资源，改善效果就会受到限制，但是SPDY的确是一种可有效消除HTTP瓶颈的技术。</p>
<h3 id="使用浏览器进行全双工通信的WebSocket"><a href="#使用浏览器进行全双工通信的WebSocket" class="headerlink" title="使用浏览器进行全双工通信的WebSocket"></a>使用浏览器进行全双工通信的WebSocket</h3><p>通信使用HTTP协议，无法彻底解决HTTP瓶颈问题，WebSocket网络技术正是解决问题而实现的一套新协议及API。当时筹划的WebSocket将作为HTML5的一部分，而现在它却逐渐变成了独立的协议标准。</p>
<h4 id="WebSocket的设计与功能"><a href="#WebSocket的设计与功能" class="headerlink" title="WebSocket的设计与功能"></a>WebSocket的设计与功能</h4><p>WebSocket是Web浏览器与Web服务器之间全双工通信标准。其中WebSocket协议由IETF定位标准，WebSocket API由W3C定位标准。WebSocket目前主要是为了解决Ajax和Comet里XMLHttpRequest附带的缺陷所引起的问题。</p>
<h4 id="WebSocket协议"><a href="#WebSocket协议" class="headerlink" title="WebSocket协议"></a>WebSocket协议</h4><p>一旦Web服务器与客户端之间建立了WebSocket协议的通信连接，之后所有的通信都依靠这个专用协议进行。可以在通信过程中互相发送JSON、XML、HTML或图片等任意格式的数据。由于是建立在HTTP基础上的协议，因此连接的发起方仍然是客户端，而一旦确立WebSocket通信连接，不论服务器和客户端，任意一方都可以直接向对方发送报文。 而不是传统的HTTP协议必须是客户端发起请求，服务器给出请求的响应。</p>
<ul>
<li>推送功能<br>支持由服务器向客户端推送数据的推送功能。这样服务器可以直接发送数据而不是等待客户端的请求。</li>
<li>减少通信量<br>只要建立起WebSocket连接，就希望一直保持连接状态。和HTTP协议相比，不但每次连接时的总开销减少，而且由于WebSocket的首部信息很小，通信量也相对减少。</li>
<li>握手<br>为了实现WebSocket通信，在HTTP连接建立后，只需要完成一次握手的步骤。</li>
</ul>
<h5 id="握手请求"><a href="#握手请求" class="headerlink" title="握手请求"></a>握手请求</h5><p>为了实现WebSocket通信，需要用到HTTP的Upgrade首部字段，告知服务器通信协议发生改变，已达到握手的目的。</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Request Method:GET</span><br><span class="line">Host:server.example.com</span><br><span class="line">Upgrade:websocket</span><br><span class="line">Connection:Upgrade</span><br><span class="line">Sec-WebSocket-Key:fajdsfjewruewuiorueqworreioq==</span><br><span class="line">Sec-WebSocket-Protocol:chat,superchat</span><br><span class="line">Sec-WebSocket-Version:<span class="hljs-number">13</span></span><br></pre></td></tr></table></figure>
<p>Sec-WebSocket-Key字段记录着握手过程中必不可少的键值。Sec-WebSocket-Protocol字段记录使用的子协议。</p>
<h5 id="握手响应"><a href="#握手响应" class="headerlink" title="握手响应"></a>握手响应</h5><p>对于之前的请求，返回状态码101 Switching Protocols的响应。</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Status Code:<span class="hljs-number">101</span> Switching Protocols</span><br><span class="line">Upgrade:websocket</span><br><span class="line">Connection:Upgrade</span><br><span class="line">Sec-WebSocket-Accept:fsfjlsdjfjds42fasfs3fsdfj==</span><br><span class="line">Sec-WebSocket-Protocol:chat</span><br></pre></td></tr></table></figure>
<p>Sec-WebSocket-Accept字段值是由握手请求中的Sec-WebSocket-Key字段值生成的。如果成功握手确立WebSocket连接之后，通信时不再使用HTTP的数据帧，而采用WebSocket独立的数据帧。</p>
<p><img src="https://raw.githubusercontent.com/ziyi2/blog-images/master/27websocket.png" alt="Alt text"></p>
<p>WebSocket是全双工通信，因此服务器端不必等待请求，可直接发送数据，从而实现服务器端推送功能。</p>
<blockquote>
<p>提示：当HTTP握手动作结束时，浏览器和服务器之间就形成了一个快速通道，当然从WebSocket名字也可以理解这个快速通道类似于Socket连接，客户端和服务器端就可以通过TCP连接直接交换数据了，快速通道连接一直持续到客户端或服务器端的某一方主动的关闭连接。所以WebSocket本质上是一个基于TCP的协议。</p>
</blockquote>
<h5 id="WebSocket-API"><a href="#WebSocket-API" class="headerlink" title="WebSocket API"></a>WebSocket API</h5><p>JavaScript可调用WebSocket API内提供的WebSocket程序接口，以实现WebSocket协议下的全双工通信。</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> webSocket = <span class="hljs-keyword">new</span> WebSocket(url,[subProtocol]); <span class="hljs-comment">//创建一个WebSocket对象</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>提示：url是指定连接的URL，subProtocol是可选的子协议。</p>
</blockquote>
<p>WebSocket事件</p>
<table>
<thead>
<tr>
<th style="text-align:left">事件</th>
<th style="text-align:right">事件处理程序</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">open</td>
<td style="text-align:right">webSocket.onopen</td>
<td style="text-align:center">连接建立时触发</td>
</tr>
<tr>
<td style="text-align:left">message</td>
<td style="text-align:right">webSocket.onmessage</td>
<td style="text-align:center">客户端接收服务端数据时触发</td>
</tr>
<tr>
<td style="text-align:left">error</td>
<td style="text-align:right">webSocket.onerror</td>
<td style="text-align:center">通信发生错误时触发</td>
</tr>
<tr>
<td style="text-align:left">close</td>
<td style="text-align:right">webSocket.onclose</td>
<td style="text-align:center">连接关闭时触发</td>
</tr>
</tbody>
</table>
<p>WebSocket方法</p>
<p>send()：使用连接发送数据<br>close()：    关闭连接</p>
<p>WebSocket属性</p>
<table>
<thead>
<tr>
<th style="text-align:left">属性</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Socket.readyState</td>
<td style="text-align:left">表示连接状态</td>
</tr>
<tr>
<td style="text-align:left">Socket.bufferedAmount</td>
<td style="text-align:left">只读属性，表明已经被send()放入发送等待列表但是还没有发出的UTF-8文本字节数</td>
</tr>
</tbody>
</table>
<p>客户端使用示例：</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">WebSocketExample</span>(<span class="hljs-params">data</span>)</span>&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(<span class="hljs-string">"WebSocket"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>)&#123;            <span class="hljs-comment">//检验浏览器是否支持WebSocket()接口</span></span><br><span class="line">        <span class="hljs-keyword">var</span> ws = <span class="hljs-keyword">new</span> WebSocket(ws:<span class="hljs-comment">//localhost:7070/echo)     //创建一个WebSocket对象</span></span><br><span class="line">        <span class="hljs-comment">/*连接建立*/</span></span><br><span class="line">        ws.onopen = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span>(ws.bufferedAmount === <span class="hljs-number">0</span>)&#123;  <span class="hljs-comment">//如果发送等待列表是空，则可以继续发送数据</span></span><br><span class="line">                ws.send(data);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-comment">/*接收数据*/</span></span><br><span class="line">        ws.onmessage = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>)</span>&#123;</span><br><span class="line">            <span class="hljs-keyword">var</span> receiveData = event.data;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-comment">/*关闭连接*/</span></span><br><span class="line">        ws.onclose = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="line">            alert(<span class="hljs-string">"连接关闭!"</span>)；</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-comment">/*连接错误*/</span></span><br><span class="line">        ws.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)</span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="hljs-keyword">else</span> &#123;</span><br><span class="line">        alert(<span class="hljs-string">"该浏览器不支持WebSocket连接!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="HTTP-2-0"><a href="#HTTP-2-0" class="headerlink" title="HTTP/2.0"></a>HTTP/2.0</h3><p>回顾一下HTTP的发展历史：</p>
<ul>
<li>HTTP/0.9<br>已经过时，只接受GET一种请求方法，没有在通讯中指定版本号，且不支持请求头，由于该版本不支持POST方法，所以客户端无法向服务器传递太多信息。</li>
<li>HTTP/1.0<br>在通讯中指定版本号的HTTP协议，至今仍被广泛使用，特别是在代理服务器中。</li>
<li>HTTP/1.1<br>与HTTP/1.0相比，主要区别在于</li>
<li>缓存处理</li>
<li>带宽优化及网络连接的使用</li>
<li>错误通知的管理</li>
<li>消息在网络中发送</li>
<li>互联网地址维护</li>
<li>安全性及完整性</li>
</ul>
<p>目前主流的HTTP/1.1标准，在SPDY和WebSocket出现以后，很难断言仍是适用于当下的Web的协议。于是负责互联网技术标准的IETF（Internet Engineering Task Force，互联网工程任务组）创立了httpbis工作组，目标是推进下一代HTTP（HTTP/2.0）。</p>
<h4 id="HTTP-2-0特点"><a href="#HTTP-2-0特点" class="headerlink" title="HTTP/2.0特点"></a>HTTP/2.0特点</h4><ul>
<li>SPDY</li>
<li>HTTP Speed + Mobility</li>
<li>Network-Friendly HTTP Upgrade</li>
</ul>
<p>HTTP Speed + Mobility由微软公司起草，用于改善提高移动端通信时通信速度和性能的标准。建立与Google公司提出的SPDY与WebSocket的基础之上。</p>
<p>HTTP/2.0 的7项技术及讨论</p>
<p>压缩    SPDY、Friendly<br>多路复用    SPDY<br>TLS义务化    Speed + Mobility<br>协商    Speed + Mobility、 Friendly<br>客户端拉拽和服务器推送    Speed + Mobility<br>流量控制    SPDY<br>WebSocket    Speed + Mobility</p>
<h2 id="Web服务器管理文件的WebDAV"><a href="#Web服务器管理文件的WebDAV" class="headerlink" title="Web服务器管理文件的WebDAV"></a>Web服务器管理文件的WebDAV</h2><p>WebDAV（Web-based Distributed Authoring and Versioning，基于万维网的分布式创作和版本控制）是一个可对Web服务器上的内容直接进行文件复制、编辑等操作的分布式文件系统。除了创建、删除文件等基本功能，它还具备文件创建者管理、文件编辑过程中禁止其他用户内容覆盖的加锁功能，以及对文件内容修改的版本控制功能。<br>使用HTTP/1.1的PUT方法和DELETE方法就可以对Web服务器上的文件进行创建和删除操作。但是出于安全性考虑一般是不使用的。</p>
<h3 id="WebDAV新增的方法及状态码"><a href="#WebDAV新增的方法及状态码" class="headerlink" title="WebDAV新增的方法及状态码"></a>WebDAV新增的方法及状态码</h3><p>方法</p>
<p>FROPFIND：获取属性<br>PROPPATCHL：修改属性<br>MKCOL：创建集合<br>…<br>状体码</p>
<p>102 Processing：可正常处理请求，但目前是处理中状态<br>207 Multi-Status：存在多种状态<br>423 Locked：资源已被加锁<br>…</p>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/cookie/">cookie</a>, <a class="has-link-grey -link" href="/tags/http/">http</a>, <a class="has-link-grey -link" href="/tags/https/">https</a>, <a class="has-link-grey -link" href="/tags/websocket/">websocket</a>, <a class="has-link-grey -link" href="/tags/代理/">代理</a>, <a class="has-link-grey -link" href="/tags/加密/">加密</a>, <a class="has-link-grey -link" href="/tags/协议/">协议</a>, <a class="has-link-grey -link" href="/tags/缓存/">缓存</a>
                </div>
            </div>
        </div>
        
        
        
        <div class="social-share"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css">
<script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script>
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2018/01/25/挪威的森林里/">
                <span class="level-item">挪威的森林里</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">评论</h3>
        
<div id="valine-thread"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '#valine-thread' ,
        notify: false,
        verify: false,
        app_id: 'BmxI4S2gUX7BUGeiMMBDdvjg-gzGzoHsz',
        app_key: 'DsCeAhw0p809CAcYr9ippw87',
        placeholder: 'Say something...',
        avatar: 'wavatar'
    });
</script>

    </div>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    <img class="image is-128x128 has-mb-6" src="/images/avatar.jpeg" alt="ziyi2">
                    
                    <p class="is-size-4 is-block">
                        ziyi2
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        人生一世,草木一秋.
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Hangzhou, P.R.China.</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        6
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        3
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        19
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="http://github.com/ziyi2">
                关注我</a>
        </div>
        
        
    </div>
</div>
    
        


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/前端/">
            <span class="level-start">
                <span class="level-item">前端</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/旅行/">
            <span class="level-start">
                <span class="level-item">旅行</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/随笔/">
            <span class="level-start">
                <span class="level-item">随笔</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/BFC/" style="font-size: 10px;">BFC</a> <a href="/tags/cookie/" style="font-size: 10px;">cookie</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/float/" style="font-size: 10px;">float</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/https/" style="font-size: 10px;">https</a> <a href="/tags/websocket/" style="font-size: 10px;">websocket</a> <a href="/tags/代理/" style="font-size: 10px;">代理</a> <a href="/tags/加密/" style="font-size: 10px;">加密</a> <a href="/tags/协议/" style="font-size: 10px;">协议</a> <a href="/tags/挪威的森林/" style="font-size: 10px;">挪威的森林</a> <a href="/tags/村上春树/" style="font-size: 10px;">村上春树</a> <a href="/tags/毕业旅行/" style="font-size: 10px;">毕业旅行</a> <a href="/tags/猫/" style="font-size: 10px;">猫</a> <a href="/tags/短篇小说/" style="font-size: 10px;">短篇小说</a> <a href="/tags/缓存/" style="font-size: 10px;">缓存</a> <a href="/tags/莫泊桑/" style="font-size: 10px;">莫泊桑</a> <a href="/tags/记忆/" style="font-size: 10px;">记忆</a> <a href="/tags/长篇小说/" style="font-size: 10px;">长篇小说</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget" id="toc">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                目录
            </h3>
            <ul class="menu-list"><li>
        <a class="is-flex" href="#Web基础">
        <span class="has-mr-6">1</span>
        <span>Web基础</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#使用HTTP协议访问Web">
        <span class="has-mr-6">1.1</span>
        <span>使用HTTP协议访问Web</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP诞生">
        <span class="has-mr-6">1.2</span>
        <span>HTTP诞生</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Web历史">
        <span class="has-mr-6">1.2.1</span>
        <span>Web历史</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP历史">
        <span class="has-mr-6">1.2.2</span>
        <span>HTTP历史</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#网络基础TCP-IP">
        <span class="has-mr-6">1.3</span>
        <span>网络基础TCP/IP</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#TCP-IP协议族">
        <span class="has-mr-6">1.3.1</span>
        <span>TCP/IP协议族</span>
        </a></li><li>
        <a class="is-flex" href="#TCP-IP分层管理">
        <span class="has-mr-6">1.3.2</span>
        <span>TCP/IP分层管理</span>
        </a></li><li>
        <a class="is-flex" href="#TCP-IP通信传输流">
        <span class="has-mr-6">1.3.3</span>
        <span>TCP/IP通信传输流</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#DNS、TCP、IP">
        <span class="has-mr-6">2</span>
        <span>DNS、TCP、IP</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#负责域名解析的DNS服务">
        <span class="has-mr-6">2.1</span>
        <span>负责域名解析的DNS服务</span>
        </a></li><li>
        <a class="is-flex" href="#确保可靠的TCP协议">
        <span class="has-mr-6">2.2</span>
        <span>确保可靠的TCP协议</span>
        </a></li><li>
        <a class="is-flex" href="#负责传输的IP协议">
        <span class="has-mr-6">2.3</span>
        <span>负责传输的IP协议</span>
        </a></li><li>
        <a class="is-flex" href="#各种协议与HTTP协议的关系">
        <span class="has-mr-6">2.4</span>
        <span>各种协议与HTTP协议的关系</span>
        </a></li><li>
        <a class="is-flex" href="#URI和URL">
        <span class="has-mr-6">2.5</span>
        <span>URI和URL</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#简单的HTTP协议">
        <span class="has-mr-6">3</span>
        <span>简单的HTTP协议</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP通信">
        <span class="has-mr-6">3.1</span>
        <span>HTTP通信</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP请求和响应">
        <span class="has-mr-6">3.2</span>
        <span>HTTP请求和响应</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#请求报文">
        <span class="has-mr-6">3.2.1</span>
        <span>请求报文</span>
        </a></li><li>
        <a class="is-flex" href="#响应报文">
        <span class="has-mr-6">3.2.2</span>
        <span>响应报文</span>
        </a></li><li>
        <a class="is-flex" href="#Ajax示例">
        <span class="has-mr-6">3.2.3</span>
        <span>Ajax示例</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP是不保存状态">
        <span class="has-mr-6">3.3</span>
        <span>HTTP是不保存状态</span>
        </a></li><li>
        <a class="is-flex" href="#请求URI定位资源">
        <span class="has-mr-6">3.4</span>
        <span>请求URI定位资源</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP请求方法">
        <span class="has-mr-6">3.5</span>
        <span>HTTP请求方法</span>
        </a></li><li>
        <a class="is-flex" href="#持久连接节省通信量">
        <span class="has-mr-6">3.6</span>
        <span>持久连接节省通信量</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#持久连接">
        <span class="has-mr-6">3.6.1</span>
        <span>持久连接</span>
        </a></li><li>
        <a class="is-flex" href="#管线化">
        <span class="has-mr-6">3.6.2</span>
        <span>管线化</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#使用Cookie的状态管理">
        <span class="has-mr-6">3.7</span>
        <span>使用Cookie的状态管理</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#没有Cookie信息状态下的客户端请求">
        <span class="has-mr-6">3.7.1</span>
        <span>没有Cookie信息状态下的客户端请求</span>
        </a></li><li>
        <a class="is-flex" href="#第二次以后（存有Cookie信息状态）的请求">
        <span class="has-mr-6">3.7.2</span>
        <span>第二次以后（存有Cookie信息状态）的请求</span>
        </a></li><li>
        <a class="is-flex" href="#工作过程">
        <span class="has-mr-6">3.7.3</span>
        <span>工作过程</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#HTTP报文内的HTTP信息">
        <span class="has-mr-6">4</span>
        <span>HTTP报文内的HTTP信息</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP报文">
        <span class="has-mr-6">4.1</span>
        <span>HTTP报文</span>
        </a></li><li>
        <a class="is-flex" href="#报文结构">
        <span class="has-mr-6">4.2</span>
        <span>报文结构</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#请求报文-1">
        <span class="has-mr-6">4.2.1</span>
        <span>请求报文</span>
        </a></li><li>
        <a class="is-flex" href="#响应报文-1">
        <span class="has-mr-6">4.2.2</span>
        <span>响应报文</span>
        </a></li><li>
        <a class="is-flex" href="#说明">
        <span class="has-mr-6">4.2.3</span>
        <span>说明</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#编码提升传输速率">
        <span class="has-mr-6">4.3</span>
        <span>编码提升传输速率</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#报文主体和实体主体的区别">
        <span class="has-mr-6">4.3.1</span>
        <span>报文主体和实体主体的区别</span>
        </a></li><li>
        <a class="is-flex" href="#压缩传输的内容编码">
        <span class="has-mr-6">4.3.2</span>
        <span>压缩传输的内容编码</span>
        </a></li><li>
        <a class="is-flex" href="#分割发送的分块传输编码">
        <span class="has-mr-6">4.3.3</span>
        <span>分割发送的分块传输编码</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#发送多种数据的多部分对象集合">
        <span class="has-mr-6">4.4</span>
        <span>发送多种数据的多部分对象集合</span>
        </a></li><li>
        <a class="is-flex" href="#获取部分内容的范围请求">
        <span class="has-mr-6">4.5</span>
        <span>获取部分内容的范围请求</span>
        </a></li><li>
        <a class="is-flex" href="#内容协商返回最合适的内容">
        <span class="has-mr-6">4.6</span>
        <span>内容协商返回最合适的内容</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#返回结果的HTTP状体码">
        <span class="has-mr-6">5</span>
        <span>返回结果的HTTP状体码</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#状态码告知从服务器端返回的请求结果">
        <span class="has-mr-6">5.1</span>
        <span>状态码告知从服务器端返回的请求结果</span>
        </a></li><li>
        <a class="is-flex" href="#1XX-正在处理">
        <span class="has-mr-6">5.2</span>
        <span>1XX 正在处理</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#100-Continue">
        <span class="has-mr-6">5.2.1</span>
        <span>100 Continue</span>
        </a></li><li>
        <a class="is-flex" href="#101-Switching-Protocols">
        <span class="has-mr-6">5.2.2</span>
        <span>101 Switching Protocols</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#2XX-成功">
        <span class="has-mr-6">5.3</span>
        <span>2XX 成功</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#200-OK（常见）">
        <span class="has-mr-6">5.3.1</span>
        <span>200 OK（常见）</span>
        </a></li><li>
        <a class="is-flex" href="#204-No-Content">
        <span class="has-mr-6">5.3.2</span>
        <span>204 No Content</span>
        </a></li><li>
        <a class="is-flex" href="#206-Partial-Content">
        <span class="has-mr-6">5.3.3</span>
        <span>206 Partial Content</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#3XX-重定向">
        <span class="has-mr-6">5.4</span>
        <span>3XX 重定向</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#301-Moved-Permanently">
        <span class="has-mr-6">5.4.1</span>
        <span>301 Moved Permanently</span>
        </a></li><li>
        <a class="is-flex" href="#302-Found">
        <span class="has-mr-6">5.4.2</span>
        <span>302 Found</span>
        </a></li><li>
        <a class="is-flex" href="#303-See-Other">
        <span class="has-mr-6">5.4.3</span>
        <span>303 See Other</span>
        </a></li><li>
        <a class="is-flex" href="#304-Not-Modified（常见）">
        <span class="has-mr-6">5.4.4</span>
        <span>304 Not Modified（常见）</span>
        </a></li><li>
        <a class="is-flex" href="#307-Temporary-Redirect">
        <span class="has-mr-6">5.4.5</span>
        <span>307 Temporary Redirect</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#4XX-客户端错误">
        <span class="has-mr-6">5.5</span>
        <span>4XX 客户端错误</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#400-Bad-Request">
        <span class="has-mr-6">5.5.1</span>
        <span>400 Bad Request</span>
        </a></li><li>
        <a class="is-flex" href="#401-Unauthorized">
        <span class="has-mr-6">5.5.2</span>
        <span>401 Unauthorized</span>
        </a></li><li>
        <a class="is-flex" href="#403-Forbidden">
        <span class="has-mr-6">5.5.3</span>
        <span>403 Forbidden</span>
        </a></li><li>
        <a class="is-flex" href="#404-Not-Found（常见）">
        <span class="has-mr-6">5.5.4</span>
        <span>404 Not Found（常见）</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#5XX-服务器错误">
        <span class="has-mr-6">5.6</span>
        <span>5XX 服务器错误</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#500-Internal-Server-Error-（Express中常用）">
        <span class="has-mr-6">5.6.1</span>
        <span>500 Internal Server Error （Express中常用）</span>
        </a></li><li>
        <a class="is-flex" href="#503-Service-Unavailable">
        <span class="has-mr-6">5.6.2</span>
        <span>503 Service Unavailable</span>
        </a></li><li>
        <a class="is-flex" href="#505-HTTP-Version-Not-Supported">
        <span class="has-mr-6">5.6.3</span>
        <span>505 HTTP Version Not Supported</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#小结">
        <span class="has-mr-6">5.7</span>
        <span>小结</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#与HTTP协作的Web服务器">
        <span class="has-mr-6">6</span>
        <span>与HTTP协作的Web服务器</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#用单台虚拟机实现多个域名">
        <span class="has-mr-6">6.1</span>
        <span>用单台虚拟机实现多个域名</span>
        </a></li><li>
        <a class="is-flex" href="#代理，网关，隧道">
        <span class="has-mr-6">6.2</span>
        <span>代理，网关，隧道</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#代理">
        <span class="has-mr-6">6.2.1</span>
        <span>代理</span>
        </a></li><li>
        <a class="is-flex" href="#网关">
        <span class="has-mr-6">6.2.2</span>
        <span>网关</span>
        </a></li><li>
        <a class="is-flex" href="#隧道">
        <span class="has-mr-6">6.2.3</span>
        <span>隧道</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#保存资源的缓存">
        <span class="has-mr-6">6.3</span>
        <span>保存资源的缓存</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#缓存的有效期">
        <span class="has-mr-6">6.3.1</span>
        <span>缓存的有效期</span>
        </a></li><li>
        <a class="is-flex" href="#客户端的缓存">
        <span class="has-mr-6">6.3.2</span>
        <span>客户端的缓存</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#HTTP首部">
        <span class="has-mr-6">7</span>
        <span>HTTP首部</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP报文首部">
        <span class="has-mr-6">7.1</span>
        <span>HTTP报文首部</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP请求报文">
        <span class="has-mr-6">7.1.1</span>
        <span>HTTP请求报文</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP响应报文">
        <span class="has-mr-6">7.1.2</span>
        <span>HTTP响应报文</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP首部字段">
        <span class="has-mr-6">7.2</span>
        <span>HTTP首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP首部字段传递重要信息">
        <span class="has-mr-6">7.2.1</span>
        <span>HTTP首部字段传递重要信息</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP首部字段结构">
        <span class="has-mr-6">7.2.2</span>
        <span>HTTP首部字段结构</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP首部字段类型">
        <span class="has-mr-6">7.2.3</span>
        <span>HTTP首部字段类型</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP-1-1首部字段预览">
        <span class="has-mr-6">7.2.4</span>
        <span>HTTP/1.1首部字段预览</span>
        </a></li><li>
        <a class="is-flex" href="#非HTTP-1-1首部字段">
        <span class="has-mr-6">7.2.5</span>
        <span>非HTTP/1.1首部字段</span>
        </a></li><li>
        <a class="is-flex" href="#End-to-end首部和Hop-by-hop首部">
        <span class="has-mr-6">7.2.6</span>
        <span>End-to-end首部和Hop-by-hop首部</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP-1-1通用首部字段">
        <span class="has-mr-6">7.3</span>
        <span>HTTP/1.1通用首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Cache-Control">
        <span class="has-mr-6">7.3.1</span>
        <span>Cache-Control</span>
        </a></li><li>
        <a class="is-flex" href="#Connection">
        <span class="has-mr-6">7.3.2</span>
        <span>Connection</span>
        </a></li><li>
        <a class="is-flex" href="#Date">
        <span class="has-mr-6">7.3.3</span>
        <span>Date</span>
        </a></li><li>
        <a class="is-flex" href="#Pragma">
        <span class="has-mr-6">7.3.4</span>
        <span>Pragma</span>
        </a></li><li>
        <a class="is-flex" href="#Transfer-Encoding">
        <span class="has-mr-6">7.3.5</span>
        <span>Transfer-Encoding</span>
        </a></li><li>
        <a class="is-flex" href="#Upgrade">
        <span class="has-mr-6">7.3.6</span>
        <span>Upgrade</span>
        </a></li><li>
        <a class="is-flex" href="#Via">
        <span class="has-mr-6">7.3.7</span>
        <span>Via</span>
        </a></li><li>
        <a class="is-flex" href="#Warning">
        <span class="has-mr-6">7.3.8</span>
        <span>Warning</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP-1-1请求首部字段">
        <span class="has-mr-6">7.4</span>
        <span>HTTP/1.1请求首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Accept">
        <span class="has-mr-6">7.4.1</span>
        <span>Accept</span>
        </a></li><li>
        <a class="is-flex" href="#Accept-Charset">
        <span class="has-mr-6">7.4.2</span>
        <span>Accept-Charset</span>
        </a></li><li>
        <a class="is-flex" href="#Accept-Encoding">
        <span class="has-mr-6">7.4.3</span>
        <span>Accept-Encoding</span>
        </a></li><li>
        <a class="is-flex" href="#Accept-Language">
        <span class="has-mr-6">7.4.4</span>
        <span>Accept-Language</span>
        </a></li><li>
        <a class="is-flex" href="#Authorization">
        <span class="has-mr-6">7.4.5</span>
        <span>Authorization</span>
        </a></li><li>
        <a class="is-flex" href="#Expect">
        <span class="has-mr-6">7.4.6</span>
        <span>Expect</span>
        </a></li><li>
        <a class="is-flex" href="#Host">
        <span class="has-mr-6">7.4.7</span>
        <span>Host</span>
        </a></li><li>
        <a class="is-flex" href="#if-Match">
        <span class="has-mr-6">7.4.8</span>
        <span>if-Match</span>
        </a></li><li>
        <a class="is-flex" href="#if-Modified-Since">
        <span class="has-mr-6">7.4.9</span>
        <span>if-Modified-Since</span>
        </a></li><li>
        <a class="is-flex" href="#if-None-Match">
        <span class="has-mr-6">7.4.10</span>
        <span>if-None-Match</span>
        </a></li><li>
        <a class="is-flex" href="#if-Range">
        <span class="has-mr-6">7.4.11</span>
        <span>if-Range</span>
        </a></li><li>
        <a class="is-flex" href="#if-Unmodified-Since">
        <span class="has-mr-6">7.4.12</span>
        <span>if-Unmodified-Since</span>
        </a></li><li>
        <a class="is-flex" href="#Max-Forwards">
        <span class="has-mr-6">7.4.13</span>
        <span>Max-Forwards</span>
        </a></li><li>
        <a class="is-flex" href="#Proxy-Authorization">
        <span class="has-mr-6">7.4.14</span>
        <span>Proxy-Authorization</span>
        </a></li><li>
        <a class="is-flex" href="#Range">
        <span class="has-mr-6">7.4.15</span>
        <span>Range</span>
        </a></li><li>
        <a class="is-flex" href="#TE">
        <span class="has-mr-6">7.4.16</span>
        <span>TE</span>
        </a></li><li>
        <a class="is-flex" href="#User-Agent">
        <span class="has-mr-6">7.4.17</span>
        <span>User-Agent</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP-1-1响应首部字段">
        <span class="has-mr-6">7.5</span>
        <span>HTTP/1.1响应首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Accept-Ranges">
        <span class="has-mr-6">7.5.1</span>
        <span>Accept-Ranges</span>
        </a></li><li>
        <a class="is-flex" href="#Age">
        <span class="has-mr-6">7.5.2</span>
        <span>Age</span>
        </a></li><li>
        <a class="is-flex" href="#ETag">
        <span class="has-mr-6">7.5.3</span>
        <span>ETag</span>
        </a></li><li>
        <a class="is-flex" href="#Location">
        <span class="has-mr-6">7.5.4</span>
        <span>Location</span>
        </a></li><li>
        <a class="is-flex" href="#Proxy-Authorizaticate">
        <span class="has-mr-6">7.5.5</span>
        <span>Proxy-Authorizaticate</span>
        </a></li><li>
        <a class="is-flex" href="#Retry-After">
        <span class="has-mr-6">7.5.6</span>
        <span>Retry-After</span>
        </a></li><li>
        <a class="is-flex" href="#Server">
        <span class="has-mr-6">7.5.7</span>
        <span>Server</span>
        </a></li><li>
        <a class="is-flex" href="#Vary">
        <span class="has-mr-6">7.5.8</span>
        <span>Vary</span>
        </a></li><li>
        <a class="is-flex" href="#WWW-Authenticate">
        <span class="has-mr-6">7.5.9</span>
        <span>WWW-Authenticate</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP-1-1实体首部字段">
        <span class="has-mr-6">7.6</span>
        <span>HTTP/1.1实体首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Allow">
        <span class="has-mr-6">7.6.1</span>
        <span>Allow</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Encoding">
        <span class="has-mr-6">7.6.2</span>
        <span>Content-Encoding</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Language">
        <span class="has-mr-6">7.6.3</span>
        <span>Content-Language</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Length">
        <span class="has-mr-6">7.6.4</span>
        <span>Content-Length</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Location">
        <span class="has-mr-6">7.6.5</span>
        <span>Content-Location</span>
        </a></li><li>
        <a class="is-flex" href="#Content-MD5">
        <span class="has-mr-6">7.6.6</span>
        <span>Content-MD5</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Range">
        <span class="has-mr-6">7.6.7</span>
        <span>Content-Range</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Type">
        <span class="has-mr-6">7.6.8</span>
        <span>Content-Type</span>
        </a></li><li>
        <a class="is-flex" href="#Expires">
        <span class="has-mr-6">7.6.9</span>
        <span>Expires</span>
        </a></li><li>
        <a class="is-flex" href="#Last-Modified">
        <span class="has-mr-6">7.6.10</span>
        <span>Last-Modified</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#为Cookie服务的首部字段">
        <span class="has-mr-6">7.7</span>
        <span>为Cookie服务的首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Set-Cookie">
        <span class="has-mr-6">7.7.1</span>
        <span>Set-Cookie</span>
        </a></li><li>
        <a class="is-flex" href="#Cookie">
        <span class="has-mr-6">7.7.2</span>
        <span>Cookie</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#其他首部字段">
        <span class="has-mr-6">7.8</span>
        <span>其他首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#X-Frame-Options">
        <span class="has-mr-6">7.8.1</span>
        <span>X-Frame-Options</span>
        </a></li><li>
        <a class="is-flex" href="#X-XSS-Protection">
        <span class="has-mr-6">7.8.2</span>
        <span>X-XSS-Protection</span>
        </a></li><li>
        <a class="is-flex" href="#DNT">
        <span class="has-mr-6">7.8.3</span>
        <span>DNT</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#确保Web安全的HTTPS">
        <span class="has-mr-6">8</span>
        <span>确保Web安全的HTTPS</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP缺点">
        <span class="has-mr-6">8.1</span>
        <span>HTTP缺点</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#通信使用明文">
        <span class="has-mr-6">8.1.1</span>
        <span>通信使用明文</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTPS">
        <span class="has-mr-6">8.2</span>
        <span>HTTPS</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP-加密-认证-完整性保护">
        <span class="has-mr-6">8.2.1</span>
        <span>HTTP + 加密 + 认证 + 完整性保护</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP-披上外壳SSL">
        <span class="has-mr-6">8.2.2</span>
        <span>HTTP 披上外壳SSL</span>
        </a></li><li>
        <a class="is-flex" href="#加密技术">
        <span class="has-mr-6">8.2.3</span>
        <span>加密技术</span>
        </a></li><li>
        <a class="is-flex" href="#证明公开秘钥正确性的证书">
        <span class="has-mr-6">8.2.4</span>
        <span>证明公开秘钥正确性的证书</span>
        </a></li><li>
        <a class="is-flex" href="#HTTPS的安全通信机制">
        <span class="has-mr-6">8.2.5</span>
        <span>HTTPS的安全通信机制</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#小结-1">
        <span class="has-mr-6">8.3</span>
        <span>小结</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#确认访问用户的认证">
        <span class="has-mr-6">9</span>
        <span>确认访问用户的认证</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#何为认证">
        <span class="has-mr-6">9.1</span>
        <span>何为认证</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP的认证方式">
        <span class="has-mr-6">9.1.1</span>
        <span>HTTP的认证方式</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#BASIC认证">
        <span class="has-mr-6">9.2</span>
        <span>BASIC认证</span>
        </a></li><li>
        <a class="is-flex" href="#DIGEST认证">
        <span class="has-mr-6">9.3</span>
        <span>DIGEST认证</span>
        </a></li><li>
        <a class="is-flex" href="#SSL客户端认证">
        <span class="has-mr-6">9.4</span>
        <span>SSL客户端认证</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#客户端认证步骤">
        <span class="has-mr-6">9.4.1</span>
        <span>客户端认证步骤</span>
        </a></li><li>
        <a class="is-flex" href="#SSL客户端认证采用双因素认证">
        <span class="has-mr-6">9.4.2</span>
        <span>SSL客户端认证采用双因素认证</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#基于表单认证">
        <span class="has-mr-6">9.5</span>
        <span>基于表单认证</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#认证多半是基于表单认证">
        <span class="has-mr-6">9.5.1</span>
        <span>认证多半是基于表单认证</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#Session管理及Cookie应用">
        <span class="has-mr-6">9.6</span>
        <span>Session管理及Cookie应用</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#基于HTTP的功能追加协议">
        <span class="has-mr-6">10</span>
        <span>基于HTTP的功能追加协议</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#SPDY">
        <span class="has-mr-6">10.1</span>
        <span>SPDY</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP瓶颈">
        <span class="has-mr-6">10.1.1</span>
        <span>HTTP瓶颈</span>
        </a></li><li>
        <a class="is-flex" href="#SPDY设计与功能">
        <span class="has-mr-6">10.1.2</span>
        <span>SPDY设计与功能</span>
        </a></li><li>
        <a class="is-flex" href="#SPDY性能">
        <span class="has-mr-6">10.1.3</span>
        <span>SPDY性能</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#使用浏览器进行全双工通信的WebSocket">
        <span class="has-mr-6">10.2</span>
        <span>使用浏览器进行全双工通信的WebSocket</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#WebSocket的设计与功能">
        <span class="has-mr-6">10.2.1</span>
        <span>WebSocket的设计与功能</span>
        </a></li><li>
        <a class="is-flex" href="#WebSocket协议">
        <span class="has-mr-6">10.2.2</span>
        <span>WebSocket协议</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP-2-0">
        <span class="has-mr-6">10.3</span>
        <span>HTTP/2.0</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP-2-0特点">
        <span class="has-mr-6">10.3.1</span>
        <span>HTTP/2.0特点</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#Web服务器管理文件的WebDAV">
        <span class="has-mr-6">11</span>
        <span>Web服务器管理文件的WebDAV</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#WebDAV新增的方法及状态码">
        <span class="has-mr-6">11.1</span>
        <span>WebDAV新增的方法及状态码</span>
        </a></li></ul></li></ul>
        </div>
    </div>
</div>

        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2018/04/10/http协议分析/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://raw.githubusercontent.com/ziyi2/blog-images/master/404.jpeg" alt="http协议分析">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-04-10T13:24:23.000Z">2018-04-10</time></div>
                    <a href="/2018/04/10/http协议分析/" class="has-link-black-ter is-size-6">http协议分析</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/前端/">前端</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/01/25/挪威的森林里/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://raw.githubusercontent.com/ziyi2/blog-images/master/nuoweidesenglin.jpg" alt="挪威的森林里">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-01-24T16:07:13.000Z">2018-01-25</time></div>
                    <a href="/2018/01/25/挪威的森林里/" class="has-link-black-ter is-size-6">挪威的森林里</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/随笔/">随笔</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2017/09/24/他/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://raw.githubusercontent.com/ziyi2/blog-images/master/cat.jpeg" alt="他">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2017-09-24T13:03:44.000Z">2017-09-24</time></div>
                    <a href="/2017/09/24/他/" class="has-link-black-ter is-size-6">他</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/随笔/">随笔</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2017/08/02/清除和去除浮动/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://raw.githubusercontent.com/ziyi2/blog-images/master/cssClearFloatTitle.jpg" alt="清除和去除浮动">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2017-08-02T14:00:27.000Z">2017-08-02</time></div>
                    <a href="/2017/08/02/清除和去除浮动/" class="has-link-black-ter is-size-6">清除和去除浮动</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/前端/">前端</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2017/07/16/那一年，我毕业了/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://ziyi2.su.bcebos.com/tripTitle.jpeg?authorization=bce-auth-v1/1506c42c5a69429286578b2c43e19c5b/2019-01-16T14:51:30Z/-1/host/357c40bc1cdf0f1bd66b64ce2600e3db046cdb68ef4796ec83984e40ce978361" alt="那一年，我毕业了">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2017-07-16T10:01:39.000Z">2017-07-16</time></div>
                    <a href="/2017/07/16/那一年，我毕业了/" class="has-link-black-ter is-size-6">那一年，我毕业了</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/旅行/">旅行</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">四月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">九月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">八月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">七月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">六月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <ul class="menu-list">
                
                <li>
                    <a class="level is-marginless" href="/tags/BFC/">
                        <span class="level-start">
                            <span class="level-item">BFC</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/cookie/">
                        <span class="level-start">
                            <span class="level-item">cookie</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/css/">
                        <span class="level-start">
                            <span class="level-item">css</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/float/">
                        <span class="level-start">
                            <span class="level-item">float</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/http/">
                        <span class="level-start">
                            <span class="level-item">http</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/https/">
                        <span class="level-start">
                            <span class="level-item">https</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/websocket/">
                        <span class="level-start">
                            <span class="level-item">websocket</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/代理/">
                        <span class="level-start">
                            <span class="level-item">代理</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/加密/">
                        <span class="level-start">
                            <span class="level-item">加密</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/协议/">
                        <span class="level-start">
                            <span class="level-item">协议</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/挪威的森林/">
                        <span class="level-start">
                            <span class="level-item">挪威的森林</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/村上春树/">
                        <span class="level-start">
                            <span class="level-item">村上春树</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/毕业旅行/">
                        <span class="level-start">
                            <span class="level-item">毕业旅行</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/猫/">
                        <span class="level-start">
                            <span class="level-item">猫</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/短篇小说/">
                        <span class="level-start">
                            <span class="level-item">短篇小说</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/缓存/">
                        <span class="level-start">
                            <span class="level-item">缓存</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/莫泊桑/">
                        <span class="level-start">
                            <span class="level-item">莫泊桑</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/记忆/">
                        <span class="level-start">
                            <span class="level-item">记忆</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/长篇小说/">
                        <span class="level-start">
                            <span class="level-item">长篇小说</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget" id="toc">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                目录
            </h3>
            <ul class="menu-list"><li>
        <a class="is-flex" href="#Web基础">
        <span class="has-mr-6">1</span>
        <span>Web基础</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#使用HTTP协议访问Web">
        <span class="has-mr-6">1.1</span>
        <span>使用HTTP协议访问Web</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP诞生">
        <span class="has-mr-6">1.2</span>
        <span>HTTP诞生</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Web历史">
        <span class="has-mr-6">1.2.1</span>
        <span>Web历史</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP历史">
        <span class="has-mr-6">1.2.2</span>
        <span>HTTP历史</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#网络基础TCP-IP">
        <span class="has-mr-6">1.3</span>
        <span>网络基础TCP/IP</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#TCP-IP协议族">
        <span class="has-mr-6">1.3.1</span>
        <span>TCP/IP协议族</span>
        </a></li><li>
        <a class="is-flex" href="#TCP-IP分层管理">
        <span class="has-mr-6">1.3.2</span>
        <span>TCP/IP分层管理</span>
        </a></li><li>
        <a class="is-flex" href="#TCP-IP通信传输流">
        <span class="has-mr-6">1.3.3</span>
        <span>TCP/IP通信传输流</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#DNS、TCP、IP">
        <span class="has-mr-6">2</span>
        <span>DNS、TCP、IP</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#负责域名解析的DNS服务">
        <span class="has-mr-6">2.1</span>
        <span>负责域名解析的DNS服务</span>
        </a></li><li>
        <a class="is-flex" href="#确保可靠的TCP协议">
        <span class="has-mr-6">2.2</span>
        <span>确保可靠的TCP协议</span>
        </a></li><li>
        <a class="is-flex" href="#负责传输的IP协议">
        <span class="has-mr-6">2.3</span>
        <span>负责传输的IP协议</span>
        </a></li><li>
        <a class="is-flex" href="#各种协议与HTTP协议的关系">
        <span class="has-mr-6">2.4</span>
        <span>各种协议与HTTP协议的关系</span>
        </a></li><li>
        <a class="is-flex" href="#URI和URL">
        <span class="has-mr-6">2.5</span>
        <span>URI和URL</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#简单的HTTP协议">
        <span class="has-mr-6">3</span>
        <span>简单的HTTP协议</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP通信">
        <span class="has-mr-6">3.1</span>
        <span>HTTP通信</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP请求和响应">
        <span class="has-mr-6">3.2</span>
        <span>HTTP请求和响应</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#请求报文">
        <span class="has-mr-6">3.2.1</span>
        <span>请求报文</span>
        </a></li><li>
        <a class="is-flex" href="#响应报文">
        <span class="has-mr-6">3.2.2</span>
        <span>响应报文</span>
        </a></li><li>
        <a class="is-flex" href="#Ajax示例">
        <span class="has-mr-6">3.2.3</span>
        <span>Ajax示例</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP是不保存状态">
        <span class="has-mr-6">3.3</span>
        <span>HTTP是不保存状态</span>
        </a></li><li>
        <a class="is-flex" href="#请求URI定位资源">
        <span class="has-mr-6">3.4</span>
        <span>请求URI定位资源</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP请求方法">
        <span class="has-mr-6">3.5</span>
        <span>HTTP请求方法</span>
        </a></li><li>
        <a class="is-flex" href="#持久连接节省通信量">
        <span class="has-mr-6">3.6</span>
        <span>持久连接节省通信量</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#持久连接">
        <span class="has-mr-6">3.6.1</span>
        <span>持久连接</span>
        </a></li><li>
        <a class="is-flex" href="#管线化">
        <span class="has-mr-6">3.6.2</span>
        <span>管线化</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#使用Cookie的状态管理">
        <span class="has-mr-6">3.7</span>
        <span>使用Cookie的状态管理</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#没有Cookie信息状态下的客户端请求">
        <span class="has-mr-6">3.7.1</span>
        <span>没有Cookie信息状态下的客户端请求</span>
        </a></li><li>
        <a class="is-flex" href="#第二次以后（存有Cookie信息状态）的请求">
        <span class="has-mr-6">3.7.2</span>
        <span>第二次以后（存有Cookie信息状态）的请求</span>
        </a></li><li>
        <a class="is-flex" href="#工作过程">
        <span class="has-mr-6">3.7.3</span>
        <span>工作过程</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#HTTP报文内的HTTP信息">
        <span class="has-mr-6">4</span>
        <span>HTTP报文内的HTTP信息</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP报文">
        <span class="has-mr-6">4.1</span>
        <span>HTTP报文</span>
        </a></li><li>
        <a class="is-flex" href="#报文结构">
        <span class="has-mr-6">4.2</span>
        <span>报文结构</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#请求报文-1">
        <span class="has-mr-6">4.2.1</span>
        <span>请求报文</span>
        </a></li><li>
        <a class="is-flex" href="#响应报文-1">
        <span class="has-mr-6">4.2.2</span>
        <span>响应报文</span>
        </a></li><li>
        <a class="is-flex" href="#说明">
        <span class="has-mr-6">4.2.3</span>
        <span>说明</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#编码提升传输速率">
        <span class="has-mr-6">4.3</span>
        <span>编码提升传输速率</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#报文主体和实体主体的区别">
        <span class="has-mr-6">4.3.1</span>
        <span>报文主体和实体主体的区别</span>
        </a></li><li>
        <a class="is-flex" href="#压缩传输的内容编码">
        <span class="has-mr-6">4.3.2</span>
        <span>压缩传输的内容编码</span>
        </a></li><li>
        <a class="is-flex" href="#分割发送的分块传输编码">
        <span class="has-mr-6">4.3.3</span>
        <span>分割发送的分块传输编码</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#发送多种数据的多部分对象集合">
        <span class="has-mr-6">4.4</span>
        <span>发送多种数据的多部分对象集合</span>
        </a></li><li>
        <a class="is-flex" href="#获取部分内容的范围请求">
        <span class="has-mr-6">4.5</span>
        <span>获取部分内容的范围请求</span>
        </a></li><li>
        <a class="is-flex" href="#内容协商返回最合适的内容">
        <span class="has-mr-6">4.6</span>
        <span>内容协商返回最合适的内容</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#返回结果的HTTP状体码">
        <span class="has-mr-6">5</span>
        <span>返回结果的HTTP状体码</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#状态码告知从服务器端返回的请求结果">
        <span class="has-mr-6">5.1</span>
        <span>状态码告知从服务器端返回的请求结果</span>
        </a></li><li>
        <a class="is-flex" href="#1XX-正在处理">
        <span class="has-mr-6">5.2</span>
        <span>1XX 正在处理</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#100-Continue">
        <span class="has-mr-6">5.2.1</span>
        <span>100 Continue</span>
        </a></li><li>
        <a class="is-flex" href="#101-Switching-Protocols">
        <span class="has-mr-6">5.2.2</span>
        <span>101 Switching Protocols</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#2XX-成功">
        <span class="has-mr-6">5.3</span>
        <span>2XX 成功</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#200-OK（常见）">
        <span class="has-mr-6">5.3.1</span>
        <span>200 OK（常见）</span>
        </a></li><li>
        <a class="is-flex" href="#204-No-Content">
        <span class="has-mr-6">5.3.2</span>
        <span>204 No Content</span>
        </a></li><li>
        <a class="is-flex" href="#206-Partial-Content">
        <span class="has-mr-6">5.3.3</span>
        <span>206 Partial Content</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#3XX-重定向">
        <span class="has-mr-6">5.4</span>
        <span>3XX 重定向</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#301-Moved-Permanently">
        <span class="has-mr-6">5.4.1</span>
        <span>301 Moved Permanently</span>
        </a></li><li>
        <a class="is-flex" href="#302-Found">
        <span class="has-mr-6">5.4.2</span>
        <span>302 Found</span>
        </a></li><li>
        <a class="is-flex" href="#303-See-Other">
        <span class="has-mr-6">5.4.3</span>
        <span>303 See Other</span>
        </a></li><li>
        <a class="is-flex" href="#304-Not-Modified（常见）">
        <span class="has-mr-6">5.4.4</span>
        <span>304 Not Modified（常见）</span>
        </a></li><li>
        <a class="is-flex" href="#307-Temporary-Redirect">
        <span class="has-mr-6">5.4.5</span>
        <span>307 Temporary Redirect</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#4XX-客户端错误">
        <span class="has-mr-6">5.5</span>
        <span>4XX 客户端错误</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#400-Bad-Request">
        <span class="has-mr-6">5.5.1</span>
        <span>400 Bad Request</span>
        </a></li><li>
        <a class="is-flex" href="#401-Unauthorized">
        <span class="has-mr-6">5.5.2</span>
        <span>401 Unauthorized</span>
        </a></li><li>
        <a class="is-flex" href="#403-Forbidden">
        <span class="has-mr-6">5.5.3</span>
        <span>403 Forbidden</span>
        </a></li><li>
        <a class="is-flex" href="#404-Not-Found（常见）">
        <span class="has-mr-6">5.5.4</span>
        <span>404 Not Found（常见）</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#5XX-服务器错误">
        <span class="has-mr-6">5.6</span>
        <span>5XX 服务器错误</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#500-Internal-Server-Error-（Express中常用）">
        <span class="has-mr-6">5.6.1</span>
        <span>500 Internal Server Error （Express中常用）</span>
        </a></li><li>
        <a class="is-flex" href="#503-Service-Unavailable">
        <span class="has-mr-6">5.6.2</span>
        <span>503 Service Unavailable</span>
        </a></li><li>
        <a class="is-flex" href="#505-HTTP-Version-Not-Supported">
        <span class="has-mr-6">5.6.3</span>
        <span>505 HTTP Version Not Supported</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#小结">
        <span class="has-mr-6">5.7</span>
        <span>小结</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#与HTTP协作的Web服务器">
        <span class="has-mr-6">6</span>
        <span>与HTTP协作的Web服务器</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#用单台虚拟机实现多个域名">
        <span class="has-mr-6">6.1</span>
        <span>用单台虚拟机实现多个域名</span>
        </a></li><li>
        <a class="is-flex" href="#代理，网关，隧道">
        <span class="has-mr-6">6.2</span>
        <span>代理，网关，隧道</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#代理">
        <span class="has-mr-6">6.2.1</span>
        <span>代理</span>
        </a></li><li>
        <a class="is-flex" href="#网关">
        <span class="has-mr-6">6.2.2</span>
        <span>网关</span>
        </a></li><li>
        <a class="is-flex" href="#隧道">
        <span class="has-mr-6">6.2.3</span>
        <span>隧道</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#保存资源的缓存">
        <span class="has-mr-6">6.3</span>
        <span>保存资源的缓存</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#缓存的有效期">
        <span class="has-mr-6">6.3.1</span>
        <span>缓存的有效期</span>
        </a></li><li>
        <a class="is-flex" href="#客户端的缓存">
        <span class="has-mr-6">6.3.2</span>
        <span>客户端的缓存</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#HTTP首部">
        <span class="has-mr-6">7</span>
        <span>HTTP首部</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP报文首部">
        <span class="has-mr-6">7.1</span>
        <span>HTTP报文首部</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP请求报文">
        <span class="has-mr-6">7.1.1</span>
        <span>HTTP请求报文</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP响应报文">
        <span class="has-mr-6">7.1.2</span>
        <span>HTTP响应报文</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP首部字段">
        <span class="has-mr-6">7.2</span>
        <span>HTTP首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP首部字段传递重要信息">
        <span class="has-mr-6">7.2.1</span>
        <span>HTTP首部字段传递重要信息</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP首部字段结构">
        <span class="has-mr-6">7.2.2</span>
        <span>HTTP首部字段结构</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP首部字段类型">
        <span class="has-mr-6">7.2.3</span>
        <span>HTTP首部字段类型</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP-1-1首部字段预览">
        <span class="has-mr-6">7.2.4</span>
        <span>HTTP/1.1首部字段预览</span>
        </a></li><li>
        <a class="is-flex" href="#非HTTP-1-1首部字段">
        <span class="has-mr-6">7.2.5</span>
        <span>非HTTP/1.1首部字段</span>
        </a></li><li>
        <a class="is-flex" href="#End-to-end首部和Hop-by-hop首部">
        <span class="has-mr-6">7.2.6</span>
        <span>End-to-end首部和Hop-by-hop首部</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP-1-1通用首部字段">
        <span class="has-mr-6">7.3</span>
        <span>HTTP/1.1通用首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Cache-Control">
        <span class="has-mr-6">7.3.1</span>
        <span>Cache-Control</span>
        </a></li><li>
        <a class="is-flex" href="#Connection">
        <span class="has-mr-6">7.3.2</span>
        <span>Connection</span>
        </a></li><li>
        <a class="is-flex" href="#Date">
        <span class="has-mr-6">7.3.3</span>
        <span>Date</span>
        </a></li><li>
        <a class="is-flex" href="#Pragma">
        <span class="has-mr-6">7.3.4</span>
        <span>Pragma</span>
        </a></li><li>
        <a class="is-flex" href="#Transfer-Encoding">
        <span class="has-mr-6">7.3.5</span>
        <span>Transfer-Encoding</span>
        </a></li><li>
        <a class="is-flex" href="#Upgrade">
        <span class="has-mr-6">7.3.6</span>
        <span>Upgrade</span>
        </a></li><li>
        <a class="is-flex" href="#Via">
        <span class="has-mr-6">7.3.7</span>
        <span>Via</span>
        </a></li><li>
        <a class="is-flex" href="#Warning">
        <span class="has-mr-6">7.3.8</span>
        <span>Warning</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP-1-1请求首部字段">
        <span class="has-mr-6">7.4</span>
        <span>HTTP/1.1请求首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Accept">
        <span class="has-mr-6">7.4.1</span>
        <span>Accept</span>
        </a></li><li>
        <a class="is-flex" href="#Accept-Charset">
        <span class="has-mr-6">7.4.2</span>
        <span>Accept-Charset</span>
        </a></li><li>
        <a class="is-flex" href="#Accept-Encoding">
        <span class="has-mr-6">7.4.3</span>
        <span>Accept-Encoding</span>
        </a></li><li>
        <a class="is-flex" href="#Accept-Language">
        <span class="has-mr-6">7.4.4</span>
        <span>Accept-Language</span>
        </a></li><li>
        <a class="is-flex" href="#Authorization">
        <span class="has-mr-6">7.4.5</span>
        <span>Authorization</span>
        </a></li><li>
        <a class="is-flex" href="#Expect">
        <span class="has-mr-6">7.4.6</span>
        <span>Expect</span>
        </a></li><li>
        <a class="is-flex" href="#Host">
        <span class="has-mr-6">7.4.7</span>
        <span>Host</span>
        </a></li><li>
        <a class="is-flex" href="#if-Match">
        <span class="has-mr-6">7.4.8</span>
        <span>if-Match</span>
        </a></li><li>
        <a class="is-flex" href="#if-Modified-Since">
        <span class="has-mr-6">7.4.9</span>
        <span>if-Modified-Since</span>
        </a></li><li>
        <a class="is-flex" href="#if-None-Match">
        <span class="has-mr-6">7.4.10</span>
        <span>if-None-Match</span>
        </a></li><li>
        <a class="is-flex" href="#if-Range">
        <span class="has-mr-6">7.4.11</span>
        <span>if-Range</span>
        </a></li><li>
        <a class="is-flex" href="#if-Unmodified-Since">
        <span class="has-mr-6">7.4.12</span>
        <span>if-Unmodified-Since</span>
        </a></li><li>
        <a class="is-flex" href="#Max-Forwards">
        <span class="has-mr-6">7.4.13</span>
        <span>Max-Forwards</span>
        </a></li><li>
        <a class="is-flex" href="#Proxy-Authorization">
        <span class="has-mr-6">7.4.14</span>
        <span>Proxy-Authorization</span>
        </a></li><li>
        <a class="is-flex" href="#Range">
        <span class="has-mr-6">7.4.15</span>
        <span>Range</span>
        </a></li><li>
        <a class="is-flex" href="#TE">
        <span class="has-mr-6">7.4.16</span>
        <span>TE</span>
        </a></li><li>
        <a class="is-flex" href="#User-Agent">
        <span class="has-mr-6">7.4.17</span>
        <span>User-Agent</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP-1-1响应首部字段">
        <span class="has-mr-6">7.5</span>
        <span>HTTP/1.1响应首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Accept-Ranges">
        <span class="has-mr-6">7.5.1</span>
        <span>Accept-Ranges</span>
        </a></li><li>
        <a class="is-flex" href="#Age">
        <span class="has-mr-6">7.5.2</span>
        <span>Age</span>
        </a></li><li>
        <a class="is-flex" href="#ETag">
        <span class="has-mr-6">7.5.3</span>
        <span>ETag</span>
        </a></li><li>
        <a class="is-flex" href="#Location">
        <span class="has-mr-6">7.5.4</span>
        <span>Location</span>
        </a></li><li>
        <a class="is-flex" href="#Proxy-Authorizaticate">
        <span class="has-mr-6">7.5.5</span>
        <span>Proxy-Authorizaticate</span>
        </a></li><li>
        <a class="is-flex" href="#Retry-After">
        <span class="has-mr-6">7.5.6</span>
        <span>Retry-After</span>
        </a></li><li>
        <a class="is-flex" href="#Server">
        <span class="has-mr-6">7.5.7</span>
        <span>Server</span>
        </a></li><li>
        <a class="is-flex" href="#Vary">
        <span class="has-mr-6">7.5.8</span>
        <span>Vary</span>
        </a></li><li>
        <a class="is-flex" href="#WWW-Authenticate">
        <span class="has-mr-6">7.5.9</span>
        <span>WWW-Authenticate</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP-1-1实体首部字段">
        <span class="has-mr-6">7.6</span>
        <span>HTTP/1.1实体首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Allow">
        <span class="has-mr-6">7.6.1</span>
        <span>Allow</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Encoding">
        <span class="has-mr-6">7.6.2</span>
        <span>Content-Encoding</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Language">
        <span class="has-mr-6">7.6.3</span>
        <span>Content-Language</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Length">
        <span class="has-mr-6">7.6.4</span>
        <span>Content-Length</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Location">
        <span class="has-mr-6">7.6.5</span>
        <span>Content-Location</span>
        </a></li><li>
        <a class="is-flex" href="#Content-MD5">
        <span class="has-mr-6">7.6.6</span>
        <span>Content-MD5</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Range">
        <span class="has-mr-6">7.6.7</span>
        <span>Content-Range</span>
        </a></li><li>
        <a class="is-flex" href="#Content-Type">
        <span class="has-mr-6">7.6.8</span>
        <span>Content-Type</span>
        </a></li><li>
        <a class="is-flex" href="#Expires">
        <span class="has-mr-6">7.6.9</span>
        <span>Expires</span>
        </a></li><li>
        <a class="is-flex" href="#Last-Modified">
        <span class="has-mr-6">7.6.10</span>
        <span>Last-Modified</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#为Cookie服务的首部字段">
        <span class="has-mr-6">7.7</span>
        <span>为Cookie服务的首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#Set-Cookie">
        <span class="has-mr-6">7.7.1</span>
        <span>Set-Cookie</span>
        </a></li><li>
        <a class="is-flex" href="#Cookie">
        <span class="has-mr-6">7.7.2</span>
        <span>Cookie</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#其他首部字段">
        <span class="has-mr-6">7.8</span>
        <span>其他首部字段</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#X-Frame-Options">
        <span class="has-mr-6">7.8.1</span>
        <span>X-Frame-Options</span>
        </a></li><li>
        <a class="is-flex" href="#X-XSS-Protection">
        <span class="has-mr-6">7.8.2</span>
        <span>X-XSS-Protection</span>
        </a></li><li>
        <a class="is-flex" href="#DNT">
        <span class="has-mr-6">7.8.3</span>
        <span>DNT</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#确保Web安全的HTTPS">
        <span class="has-mr-6">8</span>
        <span>确保Web安全的HTTPS</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP缺点">
        <span class="has-mr-6">8.1</span>
        <span>HTTP缺点</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#通信使用明文">
        <span class="has-mr-6">8.1.1</span>
        <span>通信使用明文</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTPS">
        <span class="has-mr-6">8.2</span>
        <span>HTTPS</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP-加密-认证-完整性保护">
        <span class="has-mr-6">8.2.1</span>
        <span>HTTP + 加密 + 认证 + 完整性保护</span>
        </a></li><li>
        <a class="is-flex" href="#HTTP-披上外壳SSL">
        <span class="has-mr-6">8.2.2</span>
        <span>HTTP 披上外壳SSL</span>
        </a></li><li>
        <a class="is-flex" href="#加密技术">
        <span class="has-mr-6">8.2.3</span>
        <span>加密技术</span>
        </a></li><li>
        <a class="is-flex" href="#证明公开秘钥正确性的证书">
        <span class="has-mr-6">8.2.4</span>
        <span>证明公开秘钥正确性的证书</span>
        </a></li><li>
        <a class="is-flex" href="#HTTPS的安全通信机制">
        <span class="has-mr-6">8.2.5</span>
        <span>HTTPS的安全通信机制</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#小结-1">
        <span class="has-mr-6">8.3</span>
        <span>小结</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#确认访问用户的认证">
        <span class="has-mr-6">9</span>
        <span>确认访问用户的认证</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#何为认证">
        <span class="has-mr-6">9.1</span>
        <span>何为认证</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP的认证方式">
        <span class="has-mr-6">9.1.1</span>
        <span>HTTP的认证方式</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#BASIC认证">
        <span class="has-mr-6">9.2</span>
        <span>BASIC认证</span>
        </a></li><li>
        <a class="is-flex" href="#DIGEST认证">
        <span class="has-mr-6">9.3</span>
        <span>DIGEST认证</span>
        </a></li><li>
        <a class="is-flex" href="#SSL客户端认证">
        <span class="has-mr-6">9.4</span>
        <span>SSL客户端认证</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#客户端认证步骤">
        <span class="has-mr-6">9.4.1</span>
        <span>客户端认证步骤</span>
        </a></li><li>
        <a class="is-flex" href="#SSL客户端认证采用双因素认证">
        <span class="has-mr-6">9.4.2</span>
        <span>SSL客户端认证采用双因素认证</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#基于表单认证">
        <span class="has-mr-6">9.5</span>
        <span>基于表单认证</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#认证多半是基于表单认证">
        <span class="has-mr-6">9.5.1</span>
        <span>认证多半是基于表单认证</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#Session管理及Cookie应用">
        <span class="has-mr-6">9.6</span>
        <span>Session管理及Cookie应用</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#基于HTTP的功能追加协议">
        <span class="has-mr-6">10</span>
        <span>基于HTTP的功能追加协议</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#SPDY">
        <span class="has-mr-6">10.1</span>
        <span>SPDY</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP瓶颈">
        <span class="has-mr-6">10.1.1</span>
        <span>HTTP瓶颈</span>
        </a></li><li>
        <a class="is-flex" href="#SPDY设计与功能">
        <span class="has-mr-6">10.1.2</span>
        <span>SPDY设计与功能</span>
        </a></li><li>
        <a class="is-flex" href="#SPDY性能">
        <span class="has-mr-6">10.1.3</span>
        <span>SPDY性能</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#使用浏览器进行全双工通信的WebSocket">
        <span class="has-mr-6">10.2</span>
        <span>使用浏览器进行全双工通信的WebSocket</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#WebSocket的设计与功能">
        <span class="has-mr-6">10.2.1</span>
        <span>WebSocket的设计与功能</span>
        </a></li><li>
        <a class="is-flex" href="#WebSocket协议">
        <span class="has-mr-6">10.2.2</span>
        <span>WebSocket协议</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#HTTP-2-0">
        <span class="has-mr-6">10.3</span>
        <span>HTTP/2.0</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#HTTP-2-0特点">
        <span class="has-mr-6">10.3.1</span>
        <span>HTTP/2.0特点</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#Web服务器管理文件的WebDAV">
        <span class="has-mr-6">11</span>
        <span>Web服务器管理文件的WebDAV</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#WebDAV新增的方法及状态码">
        <span class="has-mr-6">11.1</span>
        <span>WebDAV新增的方法及状态码</span>
        </a></li></ul></li></ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2018/04/10/http协议分析/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://raw.githubusercontent.com/ziyi2/blog-images/master/404.jpeg" alt="http协议分析">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-04-10T13:24:23.000Z">2018-04-10</time></div>
                    <a href="/2018/04/10/http协议分析/" class="has-link-black-ter is-size-6">http协议分析</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/前端/">前端</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/01/25/挪威的森林里/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://raw.githubusercontent.com/ziyi2/blog-images/master/nuoweidesenglin.jpg" alt="挪威的森林里">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-01-24T16:07:13.000Z">2018-01-25</time></div>
                    <a href="/2018/01/25/挪威的森林里/" class="has-link-black-ter is-size-6">挪威的森林里</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/随笔/">随笔</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2017/09/24/他/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://raw.githubusercontent.com/ziyi2/blog-images/master/cat.jpeg" alt="他">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2017-09-24T13:03:44.000Z">2017-09-24</time></div>
                    <a href="/2017/09/24/他/" class="has-link-black-ter is-size-6">他</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/随笔/">随笔</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2017/08/02/清除和去除浮动/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://raw.githubusercontent.com/ziyi2/blog-images/master/cssClearFloatTitle.jpg" alt="清除和去除浮动">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2017-08-02T14:00:27.000Z">2017-08-02</time></div>
                    <a href="/2017/08/02/清除和去除浮动/" class="has-link-black-ter is-size-6">清除和去除浮动</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/前端/">前端</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2017/07/16/那一年，我毕业了/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://ziyi2.su.bcebos.com/tripTitle.jpeg?authorization=bce-auth-v1/1506c42c5a69429286578b2c43e19c5b/2019-01-16T14:51:30Z/-1/host/357c40bc1cdf0f1bd66b64ce2600e3db046cdb68ef4796ec83984e40ce978361" alt="那一年，我毕业了">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2017-07-16T10:01:39.000Z">2017-07-16</time></div>
                    <a href="/2017/07/16/那一年，我毕业了/" class="has-link-black-ter is-size-6">那一年，我毕业了</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/旅行/">旅行</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">四月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">九月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">八月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">七月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">六月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <ul class="menu-list">
                
                <li>
                    <a class="level is-marginless" href="/tags/BFC/">
                        <span class="level-start">
                            <span class="level-item">BFC</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/cookie/">
                        <span class="level-start">
                            <span class="level-item">cookie</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/css/">
                        <span class="level-start">
                            <span class="level-item">css</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/float/">
                        <span class="level-start">
                            <span class="level-item">float</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/http/">
                        <span class="level-start">
                            <span class="level-item">http</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/https/">
                        <span class="level-start">
                            <span class="level-item">https</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/websocket/">
                        <span class="level-start">
                            <span class="level-item">websocket</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/代理/">
                        <span class="level-start">
                            <span class="level-item">代理</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/加密/">
                        <span class="level-start">
                            <span class="level-item">加密</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/协议/">
                        <span class="level-start">
                            <span class="level-item">协议</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/挪威的森林/">
                        <span class="level-start">
                            <span class="level-item">挪威的森林</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/村上春树/">
                        <span class="level-start">
                            <span class="level-item">村上春树</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/毕业旅行/">
                        <span class="level-start">
                            <span class="level-item">毕业旅行</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/猫/">
                        <span class="level-start">
                            <span class="level-item">猫</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/短篇小说/">
                        <span class="level-start">
                            <span class="level-item">短篇小说</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/缓存/">
                        <span class="level-start">
                            <span class="level-item">缓存</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/莫泊桑/">
                        <span class="level-start">
                            <span class="level-item">莫泊桑</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/记忆/">
                        <span class="level-start">
                            <span class="level-item">记忆</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/长篇小说/">
                        <span class="level-start">
                            <span class="level-item">长篇小说</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.jpg" alt="http协议分析" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 ziyi2&nbsp;
                <!-- Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        href="http://github.com/ppoffice/hexo-theme-icarus">Icarus</a> -->
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="http://github.com/ziyi2">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Zhihu link" href="https://www.zhihu.com/people/zi-yi-91-26/activities">
                        
                        <i class="fab fa-zhihu"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {matchFontHeight: false},
        SVG: {matchFontHeight: false},
        CommonHTML: {matchFontHeight: false}
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>